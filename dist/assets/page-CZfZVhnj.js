import{r as p,j as e,u as Le}from"./index-DeoPKrxh.js";import{r as M,u as pe,R as Fe,G as Ue,H as Be}from"./RealtimeReservationSync-CgNysdpI.js";import{r as G,f as He,a as le,b as fe,w as Ne,d as je}from"./supabase-BdgGiW7Q.js";function We(){const[a,c]=p.useState(new Date),[l,h]=p.useState({}),[m,b]=p.useState(null),[v,y]=p.useState(!1),[x,u]=p.useState({petName:"",ownerName:"",time:"",phone:""});p.useEffect(()=>{E();const t=()=>{E()};return window.addEventListener("reservationUpdated",t),()=>{window.removeEventListener("reservationUpdated",t)}},[a]);const E=()=>{try{const t=localStorage.getItem("allReservations"),i=localStorage.getItem("daycareReservations");let g=[];if(t)try{const N=JSON.parse(t).filter(T=>T&&T.service==="daycare");g=g.concat(N)}catch(d){console.warn("allReservations íŒŒì‹± ì‹¤íŒ¨:",d)}if(i)try{const d=JSON.parse(i);g=g.concat(d)}catch(d){console.warn("daycareReservations íŒŒì‹± ì‹¤íŒ¨:",d)}if(!g.length){F();return}const f=new Set,w=[];for(const d of g)!d||!d.id||f.has(d.id)||(f.add(d.id),w.push(d));const S={};w.forEach(d=>{const N=d.date;N&&(S[N]||(S[N]=[]),S[N].push({id:d.id,petName:d.petName,ownerName:d.ownerName||"ê³ ê°",time:d.time,phone:d.phone,status:d.status}))}),Object.keys(S).forEach(d=>{S[d].sort((N,T)=>N.time.localeCompare(T.time))}),h(S)}catch(t){console.warn("ë°ì´ì¼€ì–´ ì˜ˆì•½ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:",t),F()}},F=()=>{const t={},i=a.getFullYear(),g=a.getMonth(),f=new Date(i,g+1,0).getDate(),w=["08:00","09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],S=["ì´ˆì½”","ë°”ë‘‘ì´","ë½€ì‚","ì½”ì½”","ëª½ì´","ë£¨ë£¨","ë³´ë¦¬","ì½©ì´","ë§ˆë£¨","í•˜ëŠ˜"],d=["ê¹€ë¯¼ìˆ˜","ì´ì˜í¬","ë°•ì² ìˆ˜","ì •ìˆ˜ì§„","ìµœë™í›ˆ","í•œì§€ë¯¼","ì†¡ë¯¼í˜¸","ìœ¤ì„œì—°","ì¥ë¯¸ì˜","ì˜¤ì¤€ì„"];for(let N=1;N<=f;N++){const T=new Date(i,g,N),oe=T.toISOString().split("T")[0];if(T.getDay()===0||T.getDay()===6)continue;const O=Math.floor(Math.random()*6);if(O>0){const B=[],se=new Set;for(let P=0;P<O;P++){let I;do I=w[Math.floor(Math.random()*w.length)];while(se.has(I));se.add(I),B.push({id:`daycare-${oe}-${P}`,petName:S[Math.floor(Math.random()*S.length)],ownerName:d[Math.floor(Math.random()*d.length)],time:I,phone:`010-${Math.floor(Math.random()*9e3)+1e3}-${Math.floor(Math.random()*9e3)+1e3}`,status:["confirmed","pending","completed"][Math.floor(Math.random()*3)]})}B.sort((P,I)=>P.time.localeCompare(I.time)),t[oe]=B}}h(t)},C=()=>{const t=a.getFullYear(),i=a.getMonth(),g=new Date(t,i,1),w=new Date(t,i+1,0).getDate(),S=g.getDay(),d=[];for(let N=0;N<S;N++)d.push(null);for(let N=1;N<=w;N++)d.push(N);return d},R=t=>{const i=a.getFullYear(),f=(a.getMonth()+1).toString().padStart(2,"0"),w=t.toString().padStart(2,"0");return`${i}-${f}-${w}`},$=t=>{const i=R(t);return l[i]?.length||0},A=t=>{const i=a.getFullYear(),g=a.getMonth(),f=new Date(i,g,t);return f.getDay()===0||f.getDay()===6},L=(t,i)=>i?"bg-gray-200 text-gray-500":t===0?"bg-gray-100 text-gray-500":t<=2?"bg-green-100 text-green-700":t<=4?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",ie=(t,i)=>i?"íœ´ë¬´":t===0?"ì˜ˆì•½ì—†ìŒ":t<=2?"ì—¬ìœ ":t<=4?"ë³´í†µ":"í¬í™”",K=t=>{const i=new Date(a);t==="prev"?i.setMonth(i.getMonth()-1):i.setMonth(i.getMonth()+1),c(i),b(null),y(!1),u({petName:"",ownerName:"",time:"",phone:""})},z=t=>{if(A(t))return;const i=R(t);b(m===i?null:i),y(!1),u({petName:"",ownerName:"",time:"",phone:""})},ce=t=>{switch(t){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=(t,i)=>{u(g=>({...g,[t]:i}))},U=()=>{if(!m)return;const t=JSON.parse(localStorage.getItem("daycareReservations")||"[]"),i={id:`daycare-${m}-${Date.now()}`,petName:x.petName||"ë°˜ë ¤ë™ë¬¼",ownerName:x.ownerName||"ê³ ê°",date:m,time:x.time||"ë¯¸ì •",phone:x.phone||"",status:"confirmed",service:"daycare"};t.push(i),localStorage.setItem("daycareReservations",JSON.stringify(t)),u({petName:"",ownerName:"",time:"",phone:""}),y(!1),E(),window.dispatchEvent(new CustomEvent("reservationUpdated"))},V=t=>{const g=JSON.parse(localStorage.getItem("daycareReservations")||"[]").filter(f=>f.id!==t);localStorage.setItem("daycareReservations",JSON.stringify(g)),E(),window.dispatchEvent(new CustomEvent("reservationUpdated"))},X=["1ì›”","2ì›”","3ì›”","4ì›”","5ì›”","6ì›”","7ì›”","8ì›”","9ì›”","10ì›”","11ì›”","12ì›”"],Z=["ì¼","ì›”","í™”","ìˆ˜","ëª©","ê¸ˆ","í† "],ee=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[e.jsx("i",{className:"ri-home-heart-line mr-2 text-orange-600"}),"ë°ì´ì¼€ì–´ ì˜ˆì•½ ë‹¬ë ¥"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>K("prev"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-line text-gray-600"})}),e.jsxs("h4",{className:"text-xl font-semibold text-gray-800 min-w-[120px] text-center",children:[a.getFullYear(),"ë…„ ",X[a.getMonth()]]}),e.jsx("button",{onClick:()=>K("next"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-right-line text-gray-600"})})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-6 p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"íœ´ë¬´ (ì£¼ë§)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ì˜ˆì•½ì—†ìŒ"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ì—¬ìœ  (1-2ê±´)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ë³´í†µ (3-4ê±´)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"í¬í™” (5ê±´+)"})]})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:Z.map((t,i)=>e.jsx("div",{className:`p-3 text-center font-semibold text-sm ${i===0?"text-red-600":i===6?"text-blue-600":"text-gray-700"}`,children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:C().map((t,i)=>{if(t===null)return e.jsx("div",{className:"p-3"},i);const g=R(t),f=$(t),w=g===ee,S=m===g,d=A(t);return e.jsxs("div",{onClick:()=>z(t),className:`relative p-3 border border-gray-200 rounded-lg transition-all ${d?"bg-gray-100 cursor-not-allowed":"cursor-pointer hover:shadow-md"} ${w?"ring-2 ring-orange-500":""} ${S?"bg-orange-50 border-orange-300":d?"":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-semibold mb-1 ${i%7===0?"text-red-600":i%7===6?"text-blue-600":d?"text-gray-400":"text-gray-900"}`,children:t}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${L(f,d)}`,children:ie(f,d)}),f>0&&!d&&e.jsxs("div",{className:"text-xs text-gray-600",children:[f,"ê±´ ì˜ˆì•½"]})]})]}),w&&e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})})]},t)})}),m&&l[m]&&e.jsxs("div",{className:"mt-6 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("h4",{className:"font-semibold text-orange-900 mb-3",children:[new Date(m).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})," ë°ì´ì¼€ì–´ ì˜ˆì•½ í˜„í™©"]}),e.jsx("div",{className:"space-y-3",children:l[m].map((t,i)=>e.jsx("div",{className:"bg-white rounded-lg p-3 border border-orange-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:t.time}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ce(t.status)}`,children:t.status==="confirmed"?"í™•ì •":t.status==="pending"?"ëŒ€ê¸°":t.status==="completed"?"ì™„ë£Œ":"ì·¨ì†Œ"})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"ë°˜ë ¤ë™ë¬¼:"})," ",t.petName]}),e.jsxs("span",{children:[e.jsx("strong",{children:"ë³´í˜¸ì:"})," ",t.ownerName]})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{children:[e.jsx("strong",{children:"ì—°ë½ì²˜:"})," ",t.phone]})})]})]}),e.jsx("button",{onClick:()=>V(t.id),className:"text-red-500 text-xs ml-2",children:"ì‚­ì œ"})]})},i))}),e.jsx("div",{className:"mt-4",children:v?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"ë°˜ë ¤ë™ë¬¼ ì´ë¦„",value:x.petName,onChange:t=>D("petName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"ë³´í˜¸ì ì´ë¦„",value:x.ownerName,onChange:t=>D("ownerName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"time",value:x.time,onChange:t=>D("time",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"ì—°ë½ì²˜",value:x.phone,onChange:t=>D("phone",t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:U,className:"bg-orange-500 text-white px-3 py-1 rounded",children:"ì¶”ê°€"}),e.jsx("button",{onClick:()=>{y(!1),u({petName:"",ownerName:"",time:"",phone:""})},className:"border px-3 py-1 rounded",children:"ì·¨ì†Œ"})]})]}):e.jsx("button",{onClick:()=>y(!0),className:"bg-orange-500 text-white px-3 py-1 rounded",children:"ì˜ˆì•½ ì¶”ê°€"})})]}),m&&!l[m]&&!A(parseInt(m.split("-")[2]))&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:new Date(m).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsx("p",{className:"text-gray-600 mb-4",children:"ì´ ë‚ ì€ ë°ì´ì¼€ì–´ ì˜ˆì•½ì´ ì—†ìŠµë‹ˆë‹¤."}),e.jsx("div",{children:v?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"ë°˜ë ¤ë™ë¬¼ ì´ë¦„",value:x.petName,onChange:t=>D("petName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"ë³´í˜¸ì ì´ë¦„",value:x.ownerName,onChange:t=>D("ownerName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"time",value:x.time,onChange:t=>D("time",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"ì—°ë½ì²˜",value:x.phone,onChange:t=>D("phone",t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:U,className:"bg-orange-500 text-white px-3 py-1 rounded",children:"ì¶”ê°€"}),e.jsx("button",{onClick:()=>{y(!1),u({petName:"",ownerName:"",time:"",phone:""})},className:"border px-3 py-1 rounded",children:"ì·¨ì†Œ"})]})]}):e.jsx("button",{onClick:()=>y(!0),className:"bg-orange-500 text-white px-3 py-1 rounded",children:"ì˜ˆì•½ ì¶”ê°€"})})]})]})}const be="/api/sms/confirm",qe=!0,Je=qe&&!0,we=typeof window<"u"?window.location.origin:"",Ye=we?`${we}${be}`:be,ve=Je?"https://ì˜ˆì•½ë´‡.kr/api/sms/confirm":Ye;class _ extends Error{constructor(c,l,h){super(h||`SMS Error: ${c}`),this.code=c,this.statusCode=l,this.name="SMSError"}}async function Se(a){return new Promise(c=>setTimeout(c,a))}async function Qe(a,c={}){const{retries:l=3,timeout:h=15e3,...m}=c;let b=null;for(let v=1;v<=l;v++)try{const y=new AbortController,x=setTimeout(()=>y.abort(),h),u=await fetch(a,{...m,signal:y.signal});if(clearTimeout(x),u.ok)return u;if((u.status>=500||u.status===429)&&v<l){const E=1e3*v;console.warn(`âš ï¸  ì¬ì‹œë„ ${v}/${l} (${E}ms í›„): HTTP ${u.status}`),await Se(E);continue}throw new _("HTTP_ERROR",u.status,`HTTP ${u.status}: ${u.statusText}`)}catch(y){if(b=y,y instanceof _)throw y;if(y instanceof TypeError&&y.message.includes("fetch")&&v<l){const x=1e3*v;console.warn(`âš ï¸  ì¬ì‹œë„ ${v}/${l} (${x}ms í›„): ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜`),await Se(x);continue}throw new _("NETWORK_ERROR",void 0,`ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: ${b.message}`)}throw b||new _("UNKNOWN_ERROR",void 0,"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜")}async function Ge(a){const c=a.headers.get("content-type"),l=await a.text();if(!l)throw new _("EMPTY_RESPONSE",a.status,"API ì‘ë‹µì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤");if(!c?.includes("application/json"))throw new _("INVALID_CONTENT_TYPE",a.status,`ì˜ˆìƒì¹˜ ëª»í•œ Content-Type: ${c}`);try{return JSON.parse(l)}catch{throw new _("JSON_PARSE_ERROR",a.status,`JSON íŒŒì‹± ì‹¤íŒ¨: ${l.substring(0,100)}`)}}const Ke={async sendConfirmation(a){const c=`[PuppyHotel] ${a.owner_name}ë‹˜ì˜ ${a.pet_name} ${a.service==="grooming"?"ë¯¸ìš©":a.service==="hotel"?"í˜¸í…”":"ë°ì´ì¼€ì–´"} ì˜ˆì•½ì´ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ì¼ì‹œ: ${a.reservation_date} ${a.reservation_time||""}.`;console.log("========================================"),console.log("ğŸ“± SMS ë°œì†¡ ì‹œì‘"),console.log("========================================"),console.log("ìˆ˜ì‹ ì:",a.phone),console.log("ë©”ì‹œì§€:",c),console.log("API URL:",ve),console.log("========================================");try{const l=a.phone?.replace(/[^0-9]/g,"");if(!l)throw new _("INVALID_PHONE",void 0,"ìœ íš¨í•œ ì „í™”ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤");const h={to:l,message:c,text:c,reservationId:a.id,customerName:a.owner_name};console.log("ğŸš€ API í˜¸ì¶œ ì‹œì‘");const m=await Qe(ve,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(h),retries:3,timeout:15e3});console.log("ğŸ“¥ ì‘ë‹µ ìƒíƒœ:",m.status);const b=await Ge(m);return console.log("========================================"),console.log("âœ… SMS ë°œì†¡ ì„±ê³µ!"),console.log("ğŸ“§ ë©”ì‹œì§€ ID:",b.messageId||"N/A"),console.log("========================================"),{success:!0,message:"SMS ë°œì†¡ ì™„ë£Œ",data:b}}catch(l){return console.log("========================================"),console.log("âŒ SMS ë°œì†¡ ì‹¤íŒ¨"),l instanceof _?(console.error(`ì—ëŸ¬ ì½”ë“œ: ${l.code}`),console.error(`ìƒíƒœ ì½”ë“œ: ${l.statusCode||"N/A"}`),console.error(`ë©”ì‹œì§€: ${l.message}`)):console.error("ì—ëŸ¬:",l),console.log("========================================"),{success:!1,error:l instanceof _||l instanceof Error?l.message:"SMS ë°œì†¡ ì‹¤íŒ¨",message:"ì˜ˆì•½ì€ í™•ì •ë˜ì—ˆìœ¼ë‚˜ SMS ë°œì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."}}}};function ge(a){return{id:a.id,petName:a.pet_name,ownerName:a.owner_name,service:a.service,date:a.reservation_date,time:a.reservation_time||"ë¯¸ì •",status:a.status,phone:a.phone,roomType:a.room_type,checkIn:a.check_in,checkOut:a.check_out,style:a.grooming_style}}async function ze(){try{return(await G.getAll()).map(ge).filter(c=>c.status!=="cancelled"&&c.status!=="deleted")}catch(a){return console.error("ì˜ˆì•½ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:",a),[]}}async function ke(a,c,l=!0){try{const h=await G.update(a,{status:c});if(l&&c==="confirmed")try{const m=await Ke.sendConfirmation(h);m.success?console.log("âœ… SMS ë°œì†¡ ì„±ê³µ"):console.warn("âš ï¸ SMS ë°œì†¡ ì‹¤íŒ¨:",m.error)}catch(m){console.warn("âš ï¸ SMS ë°œì†¡ ì‹¤íŒ¨ (ë¬´ì‹œí•˜ê³  ê³„ì†):",m)}return{success:!0,data:ge(h)}}catch(h){return console.error("ìƒíƒœ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:",h),{success:!1,error:h}}}function Ve(a){return G.subscribeToChanges(c=>{if(console.log("ì˜ˆì•½ ë³€ê²½ ê°ì§€:",c),c.eventType==="INSERT"||c.eventType==="UPDATE"){const l=ge(c.new);a({type:c.eventType,data:l});try{l.status==="cancelled"||l.status==="deleted"?M([l.id]):(M([l.id]),pe(l,l.service))}catch(h){console.warn("localStorage ì˜ˆì•½ ë™ê¸°í™” ì‹¤íŒ¨:",h)}}else if(c.eventType==="DELETE"){const l=c.old.id;a({type:"DELETE",id:l});try{M([l])}catch(h){console.warn("localStorage ì˜ˆì•½ ì‚­ì œ ë™ê¸°í™” ì‹¤íŒ¨:",h)}}})}const ue=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],ne={isEnabled:!1,businessHours:{start:"09:00",end:"20:00"},availableDays:[...ue],maxBookingsPerDay:20},De={monday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},tuesday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},wednesday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},thursday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},friday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},saturday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00"],maxBookings:6},sunday:{isOpen:!1,timeSlots:[],maxBookings:0}},Xe={question:"",answer:"",tags:[],is_active:!0,sort_order:0},Ce=()=>({...ne,businessHours:{...ne.businessHours},availableDays:[...ue]}),he=()=>JSON.parse(JSON.stringify(De));function ts(){const[a,c]=p.useState("calendar"),[l,h]=p.useState([]),[m,b]=p.useState([]),[v,y]=p.useState(!1),[x,u]=p.useState({username:"admin",email:"admin@puppyhotel.com",securityQuestion:"ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ë°˜ë ¤ë™ë¬¼ì˜ ì´ë¦„ì€?",securityAnswer:""}),[E,F]=p.useState(!1),[C,R]=p.useState(()=>Ce()),[$,A]=p.useState(()=>he()),[L,ie]=p.useState(null),[K,z]=p.useState(null),[ce,D]=p.useState(null),[U,V]=p.useState(!1),[X,Z]=p.useState(!1),[ee,t]=p.useState(!1),[i,g]=p.useState({newPassword:"",confirmPassword:""}),[f,w]=p.useState(!1),[S,d]=p.useState([]),[N,T]=p.useState(Xe),[oe,de]=p.useState(!1),O=Le(),B={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};p.useEffect(()=>{(async()=>{try{de(!0);const r=await He.list();d(r??[])}catch(r){console.error("FAQ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:",r)}finally{de(!1)}})()},[]),p.useEffect(()=>{let s=null;return(async()=>{try{const o=(await le.getSession())?.user;if(!o){O("/admin");return}ie(o),localStorage.setItem("adminAuth","true");const[j,k,ye,J]=await Promise.all([ze(),fe.getLatest(),Ne.getAll(),je.getByUserId(o.id)]);if(h(j),k?(R({isEnabled:k.is_enabled,businessHours:k.business_hours||ne.businessHours,availableDays:k.available_days||ue,maxBookingsPerDay:k.max_bookings_per_day||ne.maxBookingsPerDay}),D(k.id||null)):(R(Ce()),D(null)),ye?.length){const Y=he();ye.forEach(Q=>{const me=(Q.day_of_week||"").toLowerCase();me&&(Y[me]={id:Q.id,isOpen:Q.is_open,timeSlots:Q.time_slots||[],maxBookings:Q.max_bookings??De[me]?.maxBookings??8})}),A(Y)}else A(he());J?(z(J.id||null),u({username:J.username||"admin",email:J.email||o.email||"admin@puppyhotel.com",securityQuestion:J.security_question||"ê°€ì¥ ì¢‹ì•„í•˜ëŠ” ë°˜ë ¤ë™ë¬¼ì˜ ì´ë¦„ì€?",securityAnswer:""})):u(Y=>({...Y,email:o.email||Y.email}))}catch(n){console.error("ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™” ì‹¤íŒ¨:",n)}})(),s=Ve(n=>{n.type==="INSERT"||n.type==="UPDATE"?h(o=>o.find(k=>k.id===n.data.id)?o.map(k=>k.id===n.data.id?n.data:k):[...o,n.data]):n.type==="DELETE"&&h(o=>o.filter(j=>j.id!==n.id))}),()=>{s?.unsubscribe()}},[O]);const se=async()=>{try{await le.logout()}finally{localStorage.removeItem("adminAuth"),O("/")}},P=async()=>{const s={...C,isEnabled:!0};R(s),V(!0);try{const r=await fe.upsert({id:ce||void 0,is_enabled:!0,business_hours:s.businessHours,available_days:s.availableDays,max_bookings_per_day:s.maxBookingsPerDay});D(r.id||null),alert("ìº˜ë¦°ë” ì„¤ì •ì´ Supabaseì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. AI ìƒë‹´ ì±—ë´‡ì´ 24ì‹œê°„ ì˜ˆì•½ ë¬¸ì˜ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.")}catch(r){console.error("ìº˜ë¦°ë” ì„¤ì • ì €ì¥ ì‹¤íŒ¨:",r),alert("ìº˜ë¦°ë” ì„¤ì • ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}finally{V(!1)}},I=async()=>{if(!L){alert("ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ ì£¼ì„¸ìš”."),O("/admin");return}t(!0);try{const s=await je.upsert({id:K||void 0,user_id:L.id,username:x.username,email:x.email,security_question:x.securityQuestion,security_answer:x.securityAnswer?.trim()?x.securityAnswer:void 0});z(s.id||null),x.email&&L.email!==x.email&&await le.updateEmail(x.email),u(r=>({...r,securityAnswer:""})),F(!1),alert("ê´€ë¦¬ì ê³„ì • ì •ë³´ê°€ Supabaseì— ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(s){console.error("ê´€ë¦¬ì ê³„ì • ì €ì¥ ì‹¤íŒ¨:",s),alert("ê³„ì • ì •ë³´ë¥¼ ì €ì¥í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.")}finally{t(!1)}},Ee=async()=>{if(!L){alert("ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ ì£¼ì„¸ìš”."),O("/admin");return}if(i.newPassword.length<8){alert("ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 8ìë¦¬ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");return}if(i.newPassword!==i.confirmPassword){alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");return}w(!0);try{await le.updatePassword(i.newPassword),g({newPassword:"",confirmPassword:""}),alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì•ˆì „í•˜ê²Œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(s){console.error("ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹¤íŒ¨:",s),alert("ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.")}finally{w(!1)}},te=(s,r,n)=>{A(o=>({...o,[s]:{...o[s],[r]:n}}))},Re=(s,r)=>{if(r&&!$[s].timeSlots.includes(r)){const n=[...$[s].timeSlots,r].sort();te(s,"timeSlots",n)}},_e=(s,r)=>{const n=$[s].timeSlots.filter(o=>o!==r);te(s,"timeSlots",n)},Te=async()=>{Z(!0);try{const s=Object.entries($).map(([n,o])=>({id:o.id,day_of_week:n,is_open:o.isOpen,time_slots:o.timeSlots,max_bookings:o.maxBookings})),r=await Ne.upsert(s);if(r?.length){const n={...$};r.forEach(o=>{const j=(o.day_of_week||"").toLowerCase();j&&(n[j]={id:o.id,isOpen:o.is_open,timeSlots:o.time_slots||[],maxBookings:o.max_bookings})}),A(n)}alert("ìš”ì¼ë³„ ë¯¸ìš©ì˜ˆì•½ ì„¤ì •ì´ Supabaseì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(s){console.error("ì£¼ê°„ ìŠ¤ì¼€ì¤„ ì €ì¥ ì‹¤íŒ¨:",s),alert("ìš”ì¼ë³„ ë¯¸ìš©ì˜ˆì•½ ì„¤ì • ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{Z(!1)}},xe=async(s,r)=>{try{const n=await ke(s,r,r==="confirmed");if(n.success){const o=n.data;try{M([s])}catch(j){console.warn("localStorage ì˜ˆì•½ ì‚­ì œ ì¤‘ ì˜¤ë¥˜:",j)}if(o.status!=="cancelled"&&o.status!=="deleted")try{pe(o,o.service)}catch(j){console.warn("localStorage ì—…ë°ì´íŠ¸ ì¤‘ ì˜¤ë¥˜:",j)}window.dispatchEvent(new CustomEvent("reservationUpdated")),h(j=>j.map(k=>k.id===s?o:k)),r==="confirmed"?alert("ì˜ˆì•½ì´ í™•ì •ë˜ì—ˆìœ¼ë©° ë‹¬ë ¥ì— ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤."):r==="completed"?alert("ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."):r==="cancelled"&&alert("ì˜ˆì•½ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.")}else alert("ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}catch(n){console.error("ìƒíƒœ ë³€ê²½ ì‹¤íŒ¨:",n),alert("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},$e=s=>{b(r=>r.includes(s)?r.filter(n=>n!==s):[...r,s])},Ae=()=>{v?(y(!1),b([])):(y(!0),b(l.map(s=>s.id)))},Oe=async()=>{if(m.length&&confirm("ì„ íƒëœ ì˜ˆì•½ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{await G.removeMany(m),h(s=>s.filter(r=>!m.includes(r.id))),b([]),y(!1);try{M(m)}catch(s){console.warn("localStorage ì˜ˆì•½ ì‚­ì œ ì¤‘ ì˜¤ë¥˜:",s)}window.dispatchEvent(new CustomEvent("reservationUpdated")),alert("ì„ íƒëœ ì˜ˆì•½ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(s){console.error("ì˜ˆì•½ ì‚­ì œ ì‹¤íŒ¨:",s),alert("ì˜ˆì•½ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},Ie=async s=>{if(s.status!=="pending"){c(s.service);return}try{console.log("ğŸ”„ ëŒ€ê¸° ì˜ˆì•½ í™•ì • ì‹œì‘:",s.id);const r=await ke(s.id,"confirmed",!0);if(!r.success){alert("ì˜ˆì•½ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");return}console.log("âœ… Supabase ì—…ë°ì´íŠ¸ ì™„ë£Œ");const n=r.data;try{M([s.id]),console.log("ğŸ—‘ï¸ ê¸°ì¡´ localStorage ë°ì´í„° ì‚­ì œ ì™„ë£Œ")}catch(o){console.error("ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì˜ˆì•½ì„ ì œê±°í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",o)}try{pe(n,n.service),console.log("ğŸ’¾ localStorage ì—…ë°ì´íŠ¸ ì™„ë£Œ:",n.service)}catch(o){console.error("ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì˜ˆì•½ì„ ì¶”ê°€í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",o)}switch(window.dispatchEvent(new CustomEvent("reservationUpdated")),console.log("ğŸ“¢ reservationUpdated ì´ë²¤íŠ¸ ë°œìƒ"),h(o=>o.map(j=>j.id===s.id?{...n}:j)),n.service){case"grooming":c("grooming"),console.log("ğŸ¨ ë¯¸ìš© íƒ­ìœ¼ë¡œ ì´ë™");break;case"hotel":c("hotel"),console.log("ğŸ¨ í˜¸í…” íƒ­ìœ¼ë¡œ ì´ë™");break;case"daycare":c("daycare"),console.log("ğŸ‘¶ ë°ì´ì¼€ì–´ íƒ­ìœ¼ë¡œ ì´ë™");break;default:break}alert("ì˜ˆì•½ì´ í™•ì •ë˜ì—ˆìœ¼ë©° ë‹¬ë ¥ì— ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(r){console.error("ì˜ˆì•½ í™•ì • ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:",r),alert("ì˜ˆì•½ ìƒíƒœ ì—…ë°ì´íŠ¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}},Pe=async s=>{if(confirm("ì´ ì˜ˆì•½ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{await G.remove(s),h(r=>r.filter(n=>n.id!==s));try{M([s])}catch(r){console.warn("localStorage ì˜ˆì•½ ì‚­ì œ ì¤‘ ì˜¤ë¥˜:",r)}b(r=>r.filter(n=>n!==s)),window.dispatchEvent(new CustomEvent("reservationUpdated")),alert("ì˜ˆì•½ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(r){console.error("ì˜ˆì•½ ì‚­ì œ ì‹¤íŒ¨:",r),alert("ì˜ˆì•½ì„ ì‚­ì œí•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.")}},ae=s=>{switch(s){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Me=s=>{switch(s){case"hotel":return"ri-hotel-line";case"grooming":return"ri-scissors-line";case"daycare":return"ri-home-heart-line";default:return"ri-service-line"}},re=l.filter(s=>s.date===new Date().toISOString().split("T")[0]),H=l.filter(s=>s.service==="grooming"),W=l.filter(s=>s.service==="hotel"),q=l.filter(s=>s.service==="daycare");return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Fe,{}),e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",style:{fontFamily:"Pacifico, serif"},children:"PuppyHotel Admin"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("a",{href:"/",className:"text-gray-600 hover:text-gray-900 cursor-pointer",children:[e.jsx("i",{className:"ri-home-line mr-2"}),"ë©”ì¸ ì‚¬ì´íŠ¸"]}),e.jsxs("button",{onClick:se,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-logout-box-line mr-2"}),"ë¡œê·¸ì•„ì›ƒ"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ"}),e.jsx("p",{className:"text-gray-600",children:"PuppyHotel ìš´ì˜ ê´€ë¦¬ ì‹œìŠ¤í…œ"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>c("calendar"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ${a==="calendar"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-calendar-line mr-2"}),"ìº˜ë¦°ë” ì„¤ì •"]}),e.jsxs("button",{onClick:()=>c("weekly-schedule"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ${a==="weekly-schedule"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-scissors-line mr-2"}),"ìš”ì¼ë³„ ë¯¸ìš©ì˜ˆì•½ ì„¤ì •"]}),e.jsxs("button",{onClick:()=>c("reservations"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ${a==="reservations"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-list-check mr-2"}),"ì˜ˆì•½ ê´€ë¦¬"]}),e.jsxs("button",{onClick:()=>c("grooming"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ${a==="grooming"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-scissors-line mr-2"}),"ë¯¸ìš©ì˜ˆì•½í˜„í™©"]}),e.jsxs("button",{onClick:()=>c("hotel"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ${a==="hotel"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-hotel-line mr-2"}),"í˜¸í…”"]}),e.jsxs("button",{onClick:()=>c("daycare"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ${a==="daycare"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-home-heart-line mr-2"}),"ë°ì´ì¼€ì–´"]}),e.jsxs("button",{onClick:()=>c("account"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer ${a==="account"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("i",{className:"ri-user-settings-line mr-2"}),"ê³„ì • ê´€ë¦¬"]})]})}),e.jsxs("div",{className:"p-6",children:[a==="calendar"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-teal-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-calendar-check-line text-2xl text-teal-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"AI ìƒë‹´ ì±—ë´‡ ìº˜ë¦°ë” ì„¤ì •"}),e.jsx("p",{className:"text-gray-600",children:"ê³ ê°ë“¤ì´ 24ì‹œê°„ ì˜ˆì•½ ë¬¸ì˜ë¥¼ í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:[e.jsx("i",{className:"ri-time-line mr-2 text-teal-600"}),"ì˜ì—…ì‹œê°„ ì„¤ì •"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ì‹œì‘ ì‹œê°„:"}),e.jsx("input",{type:"time",value:C.businessHours.start,onChange:s=>R({...C,businessHours:{...C.businessHours,start:s.target.value}}),className:"border border-gray-300 rounded px-2 py-1 text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ì¢…ë£Œ ì‹œê°„:"}),e.jsx("input",{type:"time",value:C.businessHours.end,onChange:s=>R({...C,businessHours:{...C.businessHours,end:s.target.value}}),className:"border border-gray-300 rounded px-2 py-1 text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ì¼ì¼ ìµœëŒ€ ì˜ˆì•½:"}),e.jsx("input",{type:"number",value:C.maxBookingsPerDay,onChange:s=>R({...C,maxBookingsPerDay:parseInt(s.target.value)}),className:"border border-gray-300 rounded px-2 py-1 text-sm w-20"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:[e.jsx("i",{className:"ri-robot-line mr-2 text-teal-600"}),"AI ì±—ë´‡ ìƒíƒœ"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${C.isEnabled?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{children:C.isEnabled?"í™œì„±í™”ë¨":"ë¹„í™œì„±í™”ë¨"})]}),e.jsx("p",{children:"â€¢ 24ì‹œê°„ ìë™ ì‘ë‹µ"}),e.jsx("p",{children:"â€¢ ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„ ì•ˆë‚´"}),e.jsx("p",{children:"â€¢ ì„œë¹„ìŠ¤ ì •ë³´ ì œê³µ"}),e.jsx("p",{children:"â€¢ ì‹¤ì‹œê°„ ì˜ˆì•½ ì ‘ìˆ˜"})]})]})]}),e.jsxs("button",{onClick:P,disabled:U,className:"w-full bg-teal-600 text-white py-4 rounded-lg font-semibold hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-calendar-check-line mr-2"}),U?"ì €ì¥ ì¤‘...":"ìº˜ë¦°ë” ì„¤ì • ì™„ë£Œí•˜ê¸°"]})]})}),a==="weekly-schedule"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ìš”ì¼ë³„ ë¯¸ìš©ì˜ˆì•½ ì„¤ì •"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"ê° ìš”ì¼ë³„ë¡œ ìš´ì˜ì‹œê°„ê³¼ ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„ì„ ì„¤ì •í•˜ì„¸ìš”"]}),e.jsxs("button",{onClick:Te,disabled:X,className:"bg-teal-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-save-line mr-2"}),X?"ì €ì¥ ì¤‘...":"ì„¤ì • ì €ì¥"]})]})]}),e.jsx("div",{className:"grid gap-6",children:Object.entries($).map(([s,r])=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mr-4",children:B[s]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.isOpen,onChange:n=>te(s,"isOpen",n.target.checked),className:"sr-only"}),e.jsx("div",{className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r.isOpen?"bg-teal-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r.isOpen?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:r.isOpen?"ìš´ì˜":"íœ´ë¬´"})]})]}),r.isOpen&&e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ìµœëŒ€ ì˜ˆì•½:"}),e.jsx("input",{type:"number",min:"1",max:"20",value:r.maxBookings,onChange:n=>te(s,"maxBookings",parseInt(n.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ê±´"})]})})]}),r.isOpen&&e.jsx("div",{children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:r.timeSlots.map(n=>e.jsxs("div",{className:"flex items-center bg-teal-50 rounded-lg px-3 py-1",children:[e.jsx("span",{className:"text-sm text-teal-700",children:n}),e.jsx("button",{onClick:()=>_e(s,n),className:"ml-2 text-teal-500 hover:text-teal-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-xs"})})]},n))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"time",id:`time-${s}`,className:"border border-gray-300 rounded px-2 py-1 text-sm"}),e.jsxs("button",{onClick:()=>{const n=document.getElementById(`time-${s}`);n.value&&(Re(s,n.value),n.value="")},className:"bg-teal-600 text-white px-3 py-1 rounded text-sm hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"ì‹œê°„ ì¶”ê°€"]})]})]})})]},s))}),e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("i",{className:"ri-lightbulb-line text-yellow-600 mr-2 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"ì„¤ì • íŒ"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"â€¢ ì ì‹¬ì‹œê°„(12:00-13:00)ì€ ì œì™¸í•˜ê³  ì„¤ì •í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ ë¯¸ìš© ì„œë¹„ìŠ¤ëŠ” ë³´í†µ 1-2ì‹œê°„ì´ ì†Œìš”ë˜ë¯€ë¡œ ì¶©ë¶„í•œ ê°„ê²©ì„ ë‘ì„¸ìš”"}),e.jsx("li",{children:"â€¢ ì£¼ë§ì—ëŠ” ì˜ˆì•½ì´ ëª°ë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ ìµœëŒ€ ì˜ˆì•½ ìˆ˜ë¥¼ ì¡°ì •í•˜ì„¸ìš”"})]})]})]})})]}),a==="reservations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ì˜ˆì•½ ê´€ë¦¬"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì˜¤ëŠ˜ ì˜ˆì•½"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:re.length})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["í˜¸í…” ",re.filter(s=>s.service==="hotel").length,"ê±´, ë¯¸ìš© ",re.filter(s=>s.service==="grooming").length,"ê±´, ë°ì´ì¼€ì–´ ",re.filter(s=>s.service==="daycare").length,"ê±´"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì´ë²ˆ ì£¼"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:l.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì „ì²´ ì˜ˆì•½ ê±´ìˆ˜"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ëŒ€ê¸° ì¤‘"}),e.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:l.filter(s=>s.status==="pending").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"í™•ì • ëŒ€ê¸° ì˜ˆì•½"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì™„ë£Œëœ ì˜ˆì•½"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:l.filter(s=>s.status==="completed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì´ë²ˆ ë‹¬ ì™„ë£Œ ê±´ìˆ˜"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì‹¤ì‹œê°„ ì˜ˆì•½ í˜„í™©"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë°˜ë ¤ë™ë¬¼"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë³´í˜¸ì"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì„œë¹„ìŠ¤"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë‚ ì§œ/ì‹œê°„"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ìƒíƒœ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì—°ë½ì²˜"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ê´€ë¦¬"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:Ae,className:"h-4 w-4 text-teal-600 border-gray-300 rounded"}),e.jsx("button",{type:"button",onClick:Oe,disabled:m.length===0,className:`text-red-600 font-medium ${m.length===0?"opacity-50 cursor-not-allowed":"hover:text-red-800"}`,children:"ì‚­ì œ"})]})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.petName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.ownerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:`${Me(s.service)} mr-2`}),s.service==="hotel"?"í˜¸í…”":s.service==="grooming"?"ë¯¸ìš©":"ë°ì´ì¼€ì–´"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.date," ",s.time]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ae(s.status)} ${s.status==="pending"?"cursor-pointer underline":""}`,onClick:()=>{s.status==="pending"&&Ie(s)},children:s.status==="confirmed"?"í™•ì •":s.status==="pending"?"ëŒ€ê¸°":s.status==="completed"?"ì™„ë£Œ":"ì·¨ì†Œ"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.phone}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[s.status==="pending"&&e.jsxs("button",{onClick:()=>xe(s.id,"confirmed"),className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 transition-colors whitespace-nowrap cursor-pointer mr-2",children:[e.jsx("i",{className:"ri-check-line mr-1"}),"í™•ì •"]}),s.status==="confirmed"&&e.jsxs("button",{onClick:()=>xe(s.id,"completed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700 transition-colors whitespace-nowrap cursor-pointer mr-2",children:[e.jsx("i",{className:"ri-check-double-line mr-1"}),"ì™„ë£Œ"]}),e.jsxs("button",{onClick:()=>xe(s.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-xs hover:bg-red-700 transition-colors whitespace-nowrap cursor-pointer mr-2",children:[e.jsx("i",{className:"ri-close-line mr-1"}),"ì·¨ì†Œ"]}),e.jsxs("button",{onClick:()=>Pe(s.id),className:"bg-red-800 text-white px-3 py-1 rounded text-xs hover:bg-red-900 transition-colors whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-delete-bin-line mr-1"}),"ì‚­ì œ"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("input",{type:"checkbox",checked:m.includes(s.id),onChange:()=>$e(s.id),className:"h-4 w-4 text-teal-600 border-gray-300 rounded"})})]},s.id))})]})})]})]}),a==="grooming"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ë¯¸ìš©ì˜ˆì•½í˜„í™©"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-pink-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì˜¤ëŠ˜ ë¯¸ìš©"}),e.jsx("span",{className:"text-2xl font-bold text-pink-600",children:H.filter(s=>s.date===new Date().toISOString().split("T")[0]).length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì§„í–‰ ì¤‘ì¸ ë¯¸ìš©"})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ëŒ€ê¸° ì¤‘"}),e.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:H.filter(s=>s.status==="pending").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì˜ˆì•½ ëŒ€ê¸°"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì™„ë£Œ"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:H.filter(s=>s.status==="completed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì˜¤ëŠ˜ ì™„ë£Œ"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì´ ì˜ˆì•½"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:H.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì´ë²ˆ ì£¼ ì „ì²´"})]})]}),e.jsx(Ue,{}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:e.jsx("h4",{className:"font-semibold text-gray-900",children:"ë¯¸ìš© ì˜ˆì•½ ìƒì„¸ í˜„í™©"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì‹œê°„"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë°˜ë ¤ë™ë¬¼"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë³´í˜¸ì"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë‚ ì§œ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë¯¸ìš©ìŠ¤íƒ€ì¼"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ìƒíƒœ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì—°ë½ì²˜"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.time}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-scissors-line mr-2 text-pink-500"}),s.petName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.ownerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.style||"ê¸°ë³¸ë¯¸ìš©"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ae(s.status)}`,children:s.status==="confirmed"?"í™•ì •":s.status==="pending"?"ëŒ€ê¸°":s.status==="completed"?"ì™„ë£Œ":"ì·¨ì†Œ"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("a",{href:`tel:${s.phone}`,className:"text-teal-600 hover:text-teal-800 cursor-pointer",children:s.phone})})]},s.id))})]})})]})]}),a==="hotel"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"í˜¸í…”"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì˜¤ëŠ˜ ì²´í¬ì¸"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:W.filter(s=>s.checkIn===new Date().toISOString().split("T")[0]).length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì‹ ê·œ ì…ì‹¤"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"í˜„ì¬ íˆ¬ìˆ™"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:W.filter(s=>s.status==="confirmed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"íˆ¬ìˆ™ ì¤‘"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì˜¤ëŠ˜ ì²´í¬ì•„ì›ƒ"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:W.filter(s=>s.checkOut===new Date().toISOString().split("T")[0]).length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"í‡´ì‹¤ ì˜ˆì •"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì´ ì˜ˆì•½"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:W.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì´ë²ˆ ì£¼ ì „ì²´"})]})]}),e.jsx(Be,{}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h4",{className:"font-semibold text-gray-900",children:"í˜¸í…” ì˜ˆì•½ í˜„í™©"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë°˜ë ¤ë™ë¬¼"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë³´í˜¸ì"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë£¸íƒ€ì…"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì²´í¬ì¸"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì²´í¬ì•„ì›ƒ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ìƒíƒœ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì—°ë½ì²˜"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-hotel-line mr-2 text-blue-500"}),s.petName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.ownerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.roomType||"ì¼ë°˜ë£¸"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.checkIn||s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.checkOut||"ë¯¸ì •"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ae(s.status)}`,children:s.status==="confirmed"?"í™•ì •":s.status==="pending"?"ëŒ€ê¸°":s.status==="completed"?"ì™„ë£Œ":"ì·¨ì†Œ"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("a",{href:`tel:${s.phone}`,className:"text-teal-600 hover:text-teal-800 cursor-pointer",children:s.phone})})]},s.id))})]})})]})]}),a==="daycare"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ë°ì´ì¼€ì–´"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì˜¤ëŠ˜ ë“±ì›"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:q.filter(s=>s.date===new Date().toISOString().split("T")[0]).length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì˜¤ëŠ˜ ë°ì´ì¼€ì–´"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"í˜„ì¬ ëŒë´„"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:q.filter(s=>s.status==="confirmed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ëŒë´„ ì¤‘"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì™„ë£Œ"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:q.filter(s=>s.status==="completed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì˜¤ëŠ˜ ì™„ë£Œ"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ì´ ì˜ˆì•½"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:q.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ì´ë²ˆ ì£¼ ì „ì²´"})]})]}),e.jsx(We,{}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h4",{className:"font-semibold text-gray-900",children:"ë°ì´ì¼€ì–´ ì˜ˆì•½ í˜„í™©"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì‹œê°„"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë°˜ë ¤ë™ë¬¼"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë³´í˜¸ì"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ë‚ ì§œ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ìƒíƒœ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ì—°ë½ì²˜"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.time}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-home-heart-line mr-2 text-orange-500"}),s.petName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.ownerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ae(s.status)}`,children:s.status==="confirmed"?"í™•ì •":s.status==="pending"?"ëŒ€ê¸°":s.status==="completed"?"ì™„ë£Œ":"ì·¨ì†Œ"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("a",{href:`tel:${s.phone}`,className:"text-teal-600 hover:text-teal-800 cursor-pointer",children:s.phone})})]},s.id))})]})})]})]}),a==="account"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ê³„ì • ê´€ë¦¬"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:[e.jsx("i",{className:"ri-user-settings-line mr-2 text-teal-600"}),"ê´€ë¦¬ì ê³„ì • ì •ë³´"]}),e.jsxs("button",{onClick:()=>F(!E),className:"text-teal-600 hover:text-teal-800 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-1"}),E?"ì·¨ì†Œ":"ìˆ˜ì •"]})]}),E?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ì•„ì´ë””"}),e.jsx("input",{type:"text",value:x.username,onChange:s=>u(r=>({...r,username:s.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ì´ë©”ì¼"}),e.jsx("input",{type:"email",value:x.email,onChange:s=>u(r=>({...r,email:s.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ë³´ì•ˆ ì§ˆë¬¸"}),e.jsx("input",{type:"text",value:x.securityQuestion,onChange:s=>u(r=>({...r,securityQuestion:s.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ë³´ì•ˆ ë‹µë³€"}),e.jsx("input",{type:"text",value:x.securityAnswer||"",onChange:s=>u(r=>({...r,securityAnswer:s.target.value})),placeholder:"ìƒˆë¡œìš´ ë³´ì•ˆ ë‹µë³€ì„ ì…ë ¥í•˜ì„¸ìš”",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ìƒˆë¡œìš´ ë‹µë³€ë§Œ ì €ì¥ë˜ë©° ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ ê°’ì´ ìœ ì§€ë©ë‹ˆë‹¤."})]}),e.jsxs("button",{onClick:I,disabled:ee,className:"w-full bg-teal-600 text-white py-2 rounded-lg font-semibold hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-save-line mr-2"}),ee?"ì €ì¥ ì¤‘...":"ì €ì¥"]})]}):e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"ì•„ì´ë””"}),e.jsx("span",{className:"ml-2 text-gray-600",children:x.username})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"ë¹„ë°€ë²ˆí˜¸"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Supabase Authë¡œ ì•”í˜¸í™”ë˜ì–´ ê´€ë¦¬ë©ë‹ˆë‹¤."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"ì´ë©”ì¼"}),e.jsx("span",{className:"ml-2 text-gray-600",children:x.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"ë³´ì•ˆ ì§ˆë¬¸"}),e.jsx("span",{className:"ml-2 text-gray-600",children:x.securityQuestion})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4",children:[e.jsx("i",{className:"ri-shield-check-line mr-2 text-green-600"}),"ë³´ì•ˆ ì„¤ì •"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"ê³„ì • ë³´ì•ˆ ìƒíƒœ"}),e.jsxs("div",{className:"space-y-2 text-sm text-green-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line mr-2"}),e.jsx("span",{children:"ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì €ì¥"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line mr-2"}),e.jsx("span",{children:"ë³´ì•ˆ ì§ˆë¬¸ ë“±ë¡ ì™„ë£Œ"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line mr-2"}),e.jsx("span",{children:"ì´ë©”ì¼ ì¸ì¦ ì™„ë£Œ"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-medium text-yellow-800 mb-2",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ì•ˆë‚´"]}),e.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"ë³´ì•ˆ ì§ˆë¬¸ì„ í†µê³¼í•˜ë©´ ë“±ë¡ëœ ì´ë©”ì¼ë¡œ Supabase ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ê°€ ìë™ ì „ì†¡ë©ë‹ˆë‹¤."}),e.jsxs("a",{href:"/admin",className:"text-yellow-800 hover:text-yellow-900 text-sm font-medium cursor-pointer",children:[e.jsx("i",{className:"ri-arrow-right-line mr-1"}),"ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™"]})]})]}),e.jsxs("div",{className:"mt-6 border-t border-gray-100 pt-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"password",value:i.newPassword,onChange:s=>g(r=>({...r,newPassword:s.target.value})),placeholder:"ìƒˆ ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 8ì)",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"}),e.jsx("input",{type:"password",value:i.confirmPassword,onChange:s=>g(r=>({...r,confirmPassword:s.target.value})),placeholder:"ë¹„ë°€ë²ˆí˜¸ í™•ì¸",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"}),e.jsxs("button",{onClick:Ee,disabled:f,className:"w-full bg-green-600 text-white py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors whitespace-nowrap cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-lock-password-line mr-2"}),f?"ë³€ê²½ ì¤‘...":"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½"]})]})]})]})]})]})]})]})]})]})}export{ts as default};
//# sourceMappingURL=page-CZfZVhnj.js.map
