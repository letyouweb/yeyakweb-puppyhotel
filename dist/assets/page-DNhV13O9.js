import{r as c,j as e,u as Oe}from"./index-CXV8rOrb.js";import{G as Ie,H as Me}from"./HotelCalendar-CaUIq7W6.js";import{s as $e,R as Pe,l as Te,r as Be}from"./dashboardHelper-CryY47LK.js";import{f as Fe,a as te,b as he,w as pe,d as ge,r as Le}from"./supabase-DzxmIhwm.js";import{c as He,a as Ue,d as qe}from"./adminReservationActions-BcfFZl9V.js";function We(){const[x,$]=c.useState(new Date),[u,S]=c.useState({}),[m,R]=c.useState(null),[P,v]=c.useState(!1),[d,y]=c.useState({petName:"",ownerName:"",time:"",phone:""});c.useEffect(()=>{A();const t=()=>{A()};return window.addEventListener("reservationUpdated",t),()=>{window.removeEventListener("reservationUpdated",t)}},[x]);const A=()=>{try{const t=localStorage.getItem("allReservations"),l=localStorage.getItem("daycareReservations");let o=[];if(t)try{const p=JSON.parse(t).filter(C=>C&&C.service==="daycare");o=o.concat(p)}catch(n){console.warn("allReservations 파싱 실패:",n)}if(l)try{const n=JSON.parse(l);o=o.concat(n)}catch(n){console.warn("daycareReservations 파싱 실패:",n)}if(!o.length){T();return}const h=new Set,g=[];for(const n of o)!n||!n.id||h.has(n.id)||(h.add(n.id),g.push(n));const f={};g.forEach(n=>{const p=n.date;p&&(f[p]||(f[p]=[]),f[p].push({id:n.id,petName:n.petName,ownerName:n.ownerName||"고객",time:n.time,phone:n.phone,status:n.status}))}),Object.keys(f).forEach(n=>{f[n].sort((p,C)=>p.time.localeCompare(C.time))}),S(f)}catch(t){console.warn("데이케어 예약 데이터 로드 실패:",t),T()}},T=()=>{const t={},l=x.getFullYear(),o=x.getMonth(),h=new Date(l,o+1,0).getDate(),g=["08:00","09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],f=["초코","바둑이","뽀삐","코코","몽이","루루","보리","콩이","마루","하늘"],n=["김민수","이영희","박철수","정수진","최동훈","한지민","송민호","윤서연","장미영","오준석"];for(let p=1;p<=h;p++){const C=new Date(l,o,p),ne=C.toISOString().split("T")[0];if(C.getDay()===0||C.getDay()===6)continue;const X=Math.floor(Math.random()*6);if(X>0){const F=[],D=new Set;for(let I=0;I<X;I++){let O;do O=g[Math.floor(Math.random()*g.length)];while(D.has(O));D.add(O),F.push({id:`daycare-${ne}-${I}`,petName:f[Math.floor(Math.random()*f.length)],ownerName:n[Math.floor(Math.random()*n.length)],time:O,phone:`010-${Math.floor(Math.random()*9e3)+1e3}-${Math.floor(Math.random()*9e3)+1e3}`,status:["confirmed","pending","completed"][Math.floor(Math.random()*3)]})}F.sort((I,O)=>I.time.localeCompare(O.time)),t[ne]=F}}S(t)},N=()=>{const t=x.getFullYear(),l=x.getMonth(),o=new Date(t,l,1),g=new Date(t,l+1,0).getDate(),f=o.getDay(),n=[];for(let p=0;p<f;p++)n.push(null);for(let p=1;p<=g;p++)n.push(p);return n},k=t=>{const l=x.getFullYear(),h=(x.getMonth()+1).toString().padStart(2,"0"),g=t.toString().padStart(2,"0");return`${l}-${h}-${g}`},E=t=>{const l=k(t);return u[l]?.length||0},_=t=>{const l=x.getFullYear(),o=x.getMonth(),h=new Date(l,o,t);return h.getDay()===0||h.getDay()===6},M=(t,l)=>l?"bg-gray-200 text-gray-500":t===0?"bg-gray-100 text-gray-500":t<=2?"bg-green-100 text-green-700":t<=4?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",re=(t,l)=>l?"휴무":t===0?"예약없음":t<=2?"여유":t<=4?"보통":"포화",Q=t=>{const l=new Date(x);t==="prev"?l.setMonth(l.getMonth()-1):l.setMonth(l.getMonth()+1),$(l),R(null),v(!1),y({petName:"",ownerName:"",time:"",phone:""})},G=t=>{if(_(t))return;const l=k(t);R(m===l?null:l),v(!1),y({petName:"",ownerName:"",time:"",phone:""})},le=t=>{switch(t){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=(t,l)=>{y(o=>({...o,[t]:l}))},B=()=>{if(!m)return;const t=JSON.parse(localStorage.getItem("daycareReservations")||"[]"),l={id:`daycare-${m}-${Date.now()}`,petName:d.petName||"반려동물",ownerName:d.ownerName||"고객",date:m,time:d.time||"미정",phone:d.phone||"",status:"confirmed",service:"daycare"};t.push(l),localStorage.setItem("daycareReservations",JSON.stringify(t)),y({petName:"",ownerName:"",time:"",phone:""}),v(!1),A(),window.dispatchEvent(new CustomEvent("reservationUpdated"))},Y=t=>{const o=JSON.parse(localStorage.getItem("daycareReservations")||"[]").filter(h=>h.id!==t);localStorage.setItem("daycareReservations",JSON.stringify(o)),A(),window.dispatchEvent(new CustomEvent("reservationUpdated"))},z=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],K=["일","월","화","수","목","금","토"],V=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[e.jsx("i",{className:"ri-home-heart-line mr-2 text-orange-600"}),"데이케어 예약 달력"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Q("prev"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-line text-gray-600"})}),e.jsxs("h4",{className:"text-xl font-semibold text-gray-800 min-w-[120px] text-center",children:[x.getFullYear(),"년 ",z[x.getMonth()]]}),e.jsx("button",{onClick:()=>Q("next"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-right-line text-gray-600"})})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-6 p-4 bg-orange-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"휴무 (주말)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"예약없음"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"여유 (1-2건)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"보통 (3-4건)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"포화 (5건+)"})]})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:K.map((t,l)=>e.jsx("div",{className:`p-3 text-center font-semibold text-sm ${l===0?"text-red-600":l===6?"text-blue-600":"text-gray-700"}`,children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N().map((t,l)=>{if(t===null)return e.jsx("div",{className:"p-3"},l);const o=k(t),h=E(t),g=o===V,f=m===o,n=_(t);return e.jsxs("div",{onClick:()=>G(t),className:`relative p-3 border border-gray-200 rounded-lg transition-all ${n?"bg-gray-100 cursor-not-allowed":"cursor-pointer hover:shadow-md"} ${g?"ring-2 ring-orange-500":""} ${f?"bg-orange-50 border-orange-300":n?"":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-semibold mb-1 ${l%7===0?"text-red-600":l%7===6?"text-blue-600":n?"text-gray-400":"text-gray-900"}`,children:t}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${M(h,n)}`,children:re(h,n)}),h>0&&!n&&e.jsxs("div",{className:"text-xs text-gray-600",children:[h,"건 예약"]})]})]}),g&&e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})})]},t)})}),m&&u[m]&&e.jsxs("div",{className:"mt-6 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsxs("h4",{className:"font-semibold text-orange-900 mb-3",children:[new Date(m).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})," 데이케어 예약 현황"]}),e.jsx("div",{className:"space-y-3",children:u[m].map((t,l)=>e.jsx("div",{className:"bg-white rounded-lg p-3 border border-orange-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:t.time}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${le(t.status)}`,children:t.status==="confirmed"?"확정":t.status==="pending"?"대기":t.status==="completed"?"완료":"취소"})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"반려동물:"})," ",t.petName]}),e.jsxs("span",{children:[e.jsx("strong",{children:"보호자:"})," ",t.ownerName]})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{children:[e.jsx("strong",{children:"연락처:"})," ",t.phone]})})]})]}),e.jsx("button",{onClick:()=>Y(t.id),className:"text-red-500 text-xs ml-2",children:"삭제"})]})},l))}),e.jsx("div",{className:"mt-4",children:P?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"반려동물 이름",value:d.petName,onChange:t=>b("petName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"보호자 이름",value:d.ownerName,onChange:t=>b("ownerName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"time",value:d.time,onChange:t=>b("time",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"연락처",value:d.phone,onChange:t=>b("phone",t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:B,className:"bg-orange-500 text-white px-3 py-1 rounded",children:"추가"}),e.jsx("button",{onClick:()=>{v(!1),y({petName:"",ownerName:"",time:"",phone:""})},className:"border px-3 py-1 rounded",children:"취소"})]})]}):e.jsx("button",{onClick:()=>v(!0),className:"bg-orange-500 text-white px-3 py-1 rounded",children:"예약 추가"})})]}),m&&!u[m]&&!_(parseInt(m.split("-")[2]))&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:new Date(m).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsx("p",{className:"text-gray-600 mb-4",children:"이 날은 데이케어 예약이 없습니다."}),e.jsx("div",{children:P?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"반려동물 이름",value:d.petName,onChange:t=>b("petName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"보호자 이름",value:d.ownerName,onChange:t=>b("ownerName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"time",value:d.time,onChange:t=>b("time",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"연락처",value:d.phone,onChange:t=>b("phone",t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:B,className:"bg-orange-500 text-white px-3 py-1 rounded",children:"추가"}),e.jsx("button",{onClick:()=>{v(!1),y({petName:"",ownerName:"",time:"",phone:""})},className:"border px-3 py-1 rounded",children:"취소"})]})]}):e.jsx("button",{onClick:()=>v(!0),className:"bg-orange-500 text-white px-3 py-1 rounded",children:"예약 추가"})})]})]})}const xe=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],ae={isEnabled:!1,businessHours:{start:"09:00",end:"20:00"},availableDays:[...xe],maxBookingsPerDay:20},ye={monday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},tuesday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},wednesday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},thursday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},friday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],maxBookings:8},saturday:{isOpen:!0,timeSlots:["09:00","10:00","11:00","13:00","14:00","15:00"],maxBookings:6},sunday:{isOpen:!1,timeSlots:[],maxBookings:0}},Je={question:"",answer:"",tags:[],is_active:!0,sort_order:0},ue=()=>({...ae,businessHours:{...ae.businessHours},availableDays:[...xe]}),oe=()=>JSON.parse(JSON.stringify(ye)),Qe=[{key:"reservations",label:"예약관리",icon:"ri-list-check"},{key:"grooming",label:"미용예약",icon:"ri-scissors-line"},{key:"hotel",label:"호텔예약",icon:"ri-hotel-line"},{key:"daycare",label:"데이케어예약",icon:"ri-home-heart-line"},{key:"weekly-schedule",label:"요일별 미용예약 설정",icon:"ri-scissors-line"},{key:"calendar",label:"캘린더 설정",icon:"ri-calendar-line"},{key:"account",label:"계정 관리",icon:"ri-user-settings-line"}];function Xe(){const[x,$]=c.useState("reservations"),[u,S]=c.useState([]),[m,R]=c.useState([]),[P,v]=c.useState(!1),[d,y]=c.useState({username:"admin",email:"admin@puppyhotel.com",securityQuestion:"가장 좋아하는 반려동물의 이름은?",securityAnswer:""}),[A,T]=c.useState(!1),[N,k]=c.useState(()=>ue()),[E,_]=c.useState(()=>oe()),[M,re]=c.useState(null),[Q,G]=c.useState(null),[le,b]=c.useState(null),[B,Y]=c.useState(!1),[z,K]=c.useState(!1),[V,t]=c.useState(!1),[l,o]=c.useState({newPassword:"",confirmPassword:""}),[h,g]=c.useState(!1),[f,n]=c.useState([]),[p,C]=c.useState(Je),[ne,ie]=c.useState(!1),[X,F]=c.useState(!1),D=Oe(),I={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};c.useEffect(()=>{(async()=>{try{ie(!0);const a=await Fe.list();n(a??[])}catch(a){console.error("FAQ 목록 로드 실패:",a)}finally{ie(!1)}})()},[]),c.useEffect(()=>{let s=null;return(async()=>{try{const i=(await te.getSession())?.user;if(!i){D("/admin");return}re(i),localStorage.setItem("adminAuth","true");const[w,j,me,q]=await Promise.all([Te(),he.getLatest(),pe.getAll(),ge.getByUserId(i.id)]);if(S(w),j?(k({isEnabled:j.is_enabled,businessHours:j.business_hours||ae.businessHours,availableDays:j.available_days||xe,maxBookingsPerDay:j.max_bookings_per_day||ae.maxBookingsPerDay}),b(j.id||null)):(k(ue()),b(null)),me?.length){const W=oe();me.forEach(J=>{const de=(J.day_of_week||"").toLowerCase();de&&(W[de]={id:J.id,isOpen:J.is_open,timeSlots:J.time_slots||[],maxBookings:J.max_bookings??ye[de]?.maxBookings??8})}),_(W)}else _(oe());q?(G(q.id||null),y({username:q.username||"admin",email:q.email||i.email||"admin@puppyhotel.com",securityQuestion:q.security_question||"가장 좋아하는 반려동물의 이름은?",securityAnswer:""})):y(W=>({...W,email:i.email||W.email}))}catch(r){console.error("대시보드 초기화 실패:",r)}})(),s=$e(r=>{r.type==="INSERT"||r.type==="UPDATE"?S(i=>i.find(j=>j.id===r.data.id)?i.map(j=>j.id===r.data.id?r.data:j):[...i,r.data]):r.type==="DELETE"&&S(i=>i.filter(w=>w.id!==r.id))}),()=>{s?.unsubscribe()}},[D]),c.useEffect(()=>{const s=()=>{typeof window>"u"||F(window.innerWidth<768)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const O=async()=>{try{await te.logout()}finally{localStorage.removeItem("adminAuth"),D("/")}},fe=async()=>{const s={...N,isEnabled:!0};k(s),Y(!0);try{const a=await he.upsert({id:le||void 0,is_enabled:!0,business_hours:s.businessHours,available_days:s.availableDays,max_bookings_per_day:s.maxBookingsPerDay});b(a.id||null),alert("캘린더 설정이 Supabase에 저장되었습니다. AI 상담 챗봇이 24시간 예약 문의를 처리합니다.")}catch(a){console.error("캘린더 설정 저장 실패:",a),alert("캘린더 설정 저장 중 오류가 발생했습니다.")}finally{Y(!1)}},je=async()=>{if(!M){alert("세션이 만료되었습니다. 다시 로그인해 주세요."),D("/admin");return}t(!0);try{const s=await ge.upsert({id:Q||void 0,user_id:M.id,username:d.username,email:d.email,security_question:d.securityQuestion,security_answer:d.securityAnswer?.trim()?d.securityAnswer:void 0});G(s.id||null),d.email&&M.email!==d.email&&await te.updateEmail(d.email),y(a=>({...a,securityAnswer:""})),T(!1),alert("관리자 계정 정보가 Supabase에 안전하게 저장되었습니다.")}catch(s){console.error("관리자 계정 저장 실패:",s),alert("계정 정보를 저장하지 못했습니다.")}finally{t(!1)}},Ne=async()=>{if(!M){alert("세션이 만료되었습니다. 다시 로그인해 주세요."),D("/admin");return}if(l.newPassword.length<8){alert("비밀번호는 최소 8자리 이상이어야 합니다.");return}if(l.newPassword!==l.confirmPassword){alert("비밀번호가 일치하지 않습니다.");return}g(!0);try{await te.updatePassword(l.newPassword),o({newPassword:"",confirmPassword:""}),alert("비밀번호가 안전하게 변경되었습니다.")}catch(s){console.error("비밀번호 변경 실패:",s),alert("비밀번호를 변경하지 못했습니다.")}finally{g(!1)}},Z=(s,a,r)=>{_(i=>({...i,[s]:{...i[s],[a]:r}}))},be=(s,a)=>{if(a&&!E[s].timeSlots.includes(a)){const r=[...E[s].timeSlots,a].sort();Z(s,"timeSlots",r)}},we=(s,a)=>{const r=E[s].timeSlots.filter(i=>i!==a);Z(s,"timeSlots",r)},ve=async()=>{K(!0);try{const s=Object.entries(E).map(([r,i])=>({id:i.id,day_of_week:r,is_open:i.isOpen,time_slots:i.timeSlots,max_bookings:i.maxBookings})),a=await pe.upsert(s);if(a?.length){const r={...E};a.forEach(i=>{const w=(i.day_of_week||"").toLowerCase();w&&(r[w]={id:i.id,isOpen:i.is_open,timeSlots:i.time_slots||[],maxBookings:i.max_bookings})}),_(r)}alert("요일별 미용예약 설정이 Supabase에 저장되었습니다.")}catch(s){console.error("주간 스케줄 저장 실패:",s),alert("요일별 미용예약 설정 저장에 실패했습니다.")}finally{K(!1)}},ce=async(s,a)=>{try{const r=await He(s,a);if(!r.success||!r.reservation){alert("?곹깭 蹂寃쎌뿉 ?ㅽ뙣?덉뒿?덈떎.");return}const i=r.reservation;S(w=>w.map(j=>j.id===s?i:j)),a==="confirmed"?alert("?덉빟???뺤젙?섏뿀?쇰ŉ ?щ젰??諛섏쁺?섏뿀?듬땲??"):a==="completed"?alert("?덉빟???꾨즺?섏뿀?듬땲??"):a==="cancelled"&&alert("?덉빟??痍⑥냼?섏뿀?듬땲??")}catch(r){console.error("?곹깭 蹂寃??ㅽ뙣:",r),alert("?ㅻ쪟媛 諛쒖깮?덉뒿?덈떎.")}},Se=s=>{R(a=>a.includes(s)?a.filter(r=>r!==s):[...a,s])},ke=()=>{P?(v(!1),R([])):(v(!0),R(u.map(s=>s.id)))},Ce=async()=>{if(m.length&&confirm("선택된 예약을 삭제하시겠습니까?"))try{await Le.removeMany(m),S(s=>s.filter(a=>!m.includes(a.id))),R([]),v(!1);try{Be(m)}catch(s){console.warn("localStorage 예약 삭제 중 오류:",s)}window.dispatchEvent(new CustomEvent("reservationUpdated")),alert("선택된 예약이 삭제되었습니다.")}catch(s){console.error("예약 삭제 실패:",s),alert("예약 삭제 중 오류가 발생했습니다.")}},De=async s=>{if(s.status!=="pending"){$(s.service);return}try{const a=await Ue(s.id);if(!a.success||!a.reservation){alert("?덉빟 ?곹깭瑜??낅뜲?댄듃?섎뒗 ???ㅽ뙣?덉뒿?덈떎.");return}const r=a.reservation;S(i=>i.map(w=>w.id===s.id?r:w)),$(r.service),alert("?덉빟???뺤젙?섏뿀?쇰ŉ ?щ젰??諛섏쁺?섏뿀?듬땲??")}catch(a){console.error("?덉빟 ?뺤젙 泥섎━ 以??ㅻ쪟 諛쒖깮:",a),alert("?덉빟 ?곹깭 ?낅뜲?댄듃 以??ㅻ쪟媛 諛쒖깮?덉뒿?덈떎.")}},Re=async s=>{if(!confirm("???덉빟????젣?섏떆寃좎뒿?덇퉴?"))return;if(!(await qe(s)).success){alert("?덉빟????젣?섏? 紐삵뻽?듬땲??");return}S(r=>r.filter(i=>i.id!==s)),R(r=>r.filter(i=>i!==s)),alert("?덉빟????젣?섏뿀?듬땲??")},ee=s=>{switch(s){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ae=s=>{switch(s){case"hotel":return"ri-hotel-line";case"grooming":return"ri-scissors-line";case"daycare":return"ri-home-heart-line";default:return"ri-service-line"}},se=u.filter(s=>s.date===new Date().toISOString().split("T")[0]),L=u.filter(s=>s.service==="grooming"),H=u.filter(s=>s.service==="hotel"),U=u.filter(s=>s.service==="daycare"),Ee=s=>{$(s)},_e=s=>`flex-shrink-0 py-4 px-4 min-h-[44px] border-b-2 font-medium text-sm whitespace-nowrap cursor-pointer touch-manipulation select-none active:scale-95 active:bg-gray-50 transition-transform ${x===s?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`;return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col w-full overflow-x-hidden",children:[e.jsx(Pe,{}),e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",style:{fontFamily:"Pacifico, serif"},children:e.jsx("a",{href:"/#hero",className:"flex items-center gap-2 text-gray-900 hover:text-teal-600 transition-colors cursor-pointer",children:"PuppyHotel Admin"})})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{onClick:O,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-logout-box-line mr-2"}),"로그아웃"]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[X?e.jsxs("div",{className:"mb-4 rounded-xl bg-amber-50 p-3 text-sm text-amber-800",children:["모바일에서는 간단 관리자 화면이 더 편리합니다.",e.jsx("button",{type:"button",className:"ml-2 font-semibold underline",onClick:()=>D("/admin/mobile"),children:"모바일 관리자 열기"})]}):null,e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"관리자 대시보드"}),e.jsx("p",{className:"text-gray-600",children:"PuppyHotel 운영 관리 시스템"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:[e.jsx("div",{className:"border-b border-gray-200 overflow-x-auto w-full",children:e.jsx("nav",{className:"-mb-px flex flex-wrap md:flex-nowrap gap-1 md:gap-4 px-2 sm:px-6 w-full",role:"tablist",children:Qe.map(({key:s,label:a,icon:r})=>e.jsxs("button",{type:"button",role:"tab","aria-selected":x===s,onClick:()=>Ee(s),className:_e(s),children:[e.jsx("i",{className:`${r} mr-2`}),a]},s))})}),e.jsxs("div",{className:"p-6",children:[x==="calendar"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-teal-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center mr-4",children:e.jsx("i",{className:"ri-calendar-check-line text-2xl text-teal-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"AI 상담 챗봇 캘린더 설정"}),e.jsx("p",{className:"text-gray-600",children:"고객들이 24시간 예약 문의를 할 수 있도록 설정합니다"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:[e.jsx("i",{className:"ri-time-line mr-2 text-teal-600"}),"영업시간 설정"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"시작 시간:"}),e.jsx("input",{type:"time",value:N.businessHours.start,onChange:s=>k({...N,businessHours:{...N.businessHours,start:s.target.value}}),className:"border border-gray-300 rounded px-2 py-1 text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"종료 시간:"}),e.jsx("input",{type:"time",value:N.businessHours.end,onChange:s=>k({...N,businessHours:{...N.businessHours,end:s.target.value}}),className:"border border-gray-300 rounded px-2 py-1 text-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"일일 최대 예약:"}),e.jsx("input",{type:"number",value:N.maxBookingsPerDay,onChange:s=>k({...N,maxBookingsPerDay:parseInt(s.target.value)}),className:"border border-gray-300 rounded px-2 py-1 text-sm w-20"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:[e.jsx("i",{className:"ri-robot-line mr-2 text-teal-600"}),"AI 챗봇 상태"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${N.isEnabled?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{children:N.isEnabled?"활성화됨":"비활성화됨"})]}),e.jsx("p",{children:"• 24시간 자동 응답"}),e.jsx("p",{children:"• 예약 가능 시간 안내"}),e.jsx("p",{children:"• 서비스 정보 제공"}),e.jsx("p",{children:"• 실시간 예약 접수"})]})]})]}),e.jsxs("button",{onClick:fe,disabled:B,className:"w-full bg-teal-600 text-white py-4 rounded-lg font-semibold hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-calendar-check-line mr-2"}),B?"저장 중...":"캘린더 설정 완료하기"]})]})}),x==="weekly-schedule"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"요일별 미용예약 설정"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("i",{className:"ri-information-line mr-1"}),"각 요일별로 운영시간과 예약 가능 시간을 설정하세요"]}),e.jsxs("button",{onClick:ve,disabled:z,className:"bg-teal-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-save-line mr-2"}),z?"저장 중...":"설정 저장"]})]})]}),e.jsx("div",{className:"grid gap-6",children:Object.entries(E).map(([s,a])=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mr-4",children:I[s]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.isOpen,onChange:r=>Z(s,"isOpen",r.target.checked),className:"sr-only"}),e.jsx("div",{className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a.isOpen?"bg-teal-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a.isOpen?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:a.isOpen?"운영":"휴무"})]})]}),a.isOpen&&e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"최대 예약:"}),e.jsx("input",{type:"number",min:"1",max:"20",value:a.maxBookings,onChange:r=>Z(s,"maxBookings",parseInt(r.target.value)),className:"w-16 px-2 py-1 border border-gray-300 rounded text-sm"}),e.jsx("span",{className:"text-sm text-gray-600",children:"건"})]})})]}),a.isOpen&&e.jsx("div",{children:e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"예약 가능 시간"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:a.timeSlots.map(r=>e.jsxs("div",{className:"flex items-center bg-teal-50 rounded-lg px-3 py-1",children:[e.jsx("span",{className:"text-sm text-teal-700",children:r}),e.jsx("button",{onClick:()=>we(s,r),className:"ml-2 text-teal-500 hover:text-teal-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-xs"})})]},r))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"time",id:`time-${s}`,className:"border border-gray-300 rounded px-2 py-1 text-sm"}),e.jsxs("button",{onClick:()=>{const r=document.getElementById(`time-${s}`);r.value&&(be(s,r.value),r.value="")},className:"bg-teal-600 text-white px-3 py-1 rounded text-sm hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-add-line mr-1"}),"시간 추가"]})]})]})})]},s))}),e.jsx("div",{className:"bg-yellow-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("i",{className:"ri-lightbulb-line text-yellow-600 mr-2 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"설정 팁"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• 점심시간(12:00-13:00)은 제외하고 설정하는 것을 권장합니다"}),e.jsx("li",{children:"• 미용 서비스는 보통 1-2시간이 소요되므로 충분한 간격을 두세요"}),e.jsx("li",{children:"• 주말에는 예약이 몰릴 수 있으니 최대 예약 수를 조정하세요"})]})]})]})})]}),x==="reservations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"예약 관리"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"오늘 예약"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:se.length})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["호텔 ",se.filter(s=>s.service==="hotel").length,"건, 미용 ",se.filter(s=>s.service==="grooming").length,"건, 데이케어 ",se.filter(s=>s.service==="daycare").length,"건"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"이번 주"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:u.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"전체 예약 건수"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"대기 중"}),e.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:u.filter(s=>s.status==="pending").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"확정 대기 예약"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"완료된 예약"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:u.filter(s=>s.status==="completed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"이번 달 완료 건수"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h4",{className:"font-semibold text-gray-900",children:"실시간 예약 현황"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"반려동물"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"보호자"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"서비스"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"날짜/시간"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"연락처"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:P,onChange:ke,className:"h-4 w-4 text-teal-600 border-gray-300 rounded"}),e.jsx("button",{type:"button",onClick:Ce,disabled:m.length===0,className:`text-red-600 font-medium ${m.length===0?"opacity-50 cursor-not-allowed":"hover:text-red-800"}`,children:"삭제"})]})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.petName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.ownerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:`${Ae(s.service)} mr-2`}),s.service==="hotel"?"호텔":s.service==="grooming"?"미용":"데이케어"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.date," ",s.time]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee(s.status)} ${s.status==="pending"?"cursor-pointer underline":""}`,onClick:()=>{s.status==="pending"&&De(s)},children:s.status==="confirmed"?"확정":s.status==="pending"?"대기":s.status==="completed"?"완료":"취소"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.phone}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[s.status==="pending"&&e.jsxs("button",{onClick:()=>ce(s.id,"confirmed"),className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 transition-colors whitespace-nowrap cursor-pointer mr-2",children:[e.jsx("i",{className:"ri-check-line mr-1"}),"확정"]}),s.status==="confirmed"&&e.jsxs("button",{onClick:()=>ce(s.id,"completed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700 transition-colors whitespace-nowrap cursor-pointer mr-2",children:[e.jsx("i",{className:"ri-check-double-line mr-1"}),"완료"]}),e.jsxs("button",{onClick:()=>ce(s.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-xs hover:bg-red-700 transition-colors whitespace-nowrap cursor-pointer mr-2",children:[e.jsx("i",{className:"ri-close-line mr-1"}),"취소"]}),e.jsxs("button",{onClick:()=>Re(s.id),className:"bg-red-800 text-white px-3 py-1 rounded text-xs hover:bg-red-900 transition-colors whitespace-nowrap cursor-pointer",children:[e.jsx("i",{className:"ri-delete-bin-line mr-1"}),"삭제"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("input",{type:"checkbox",checked:m.includes(s.id),onChange:()=>Se(s.id),className:"h-4 w-4 text-teal-600 border-gray-300 rounded"})})]},s.id))})]})})]})]}),x==="grooming"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"미용예약현황"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"실시간 업데이트"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-pink-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"오늘 미용"}),e.jsx("span",{className:"text-2xl font-bold text-pink-600",children:L.filter(s=>s.date===new Date().toISOString().split("T")[0]).length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"진행 중인 미용"})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"대기 중"}),e.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:L.filter(s=>s.status==="pending").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"예약 대기"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"완료"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:L.filter(s=>s.status==="completed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"오늘 완료"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"총 예약"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:L.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"이번 주 전체"})]})]}),e.jsx(Ie,{}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:e.jsx("h4",{className:"font-semibold text-gray-900",children:"미용 예약 상세 현황"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"시간"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"반려동물"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"보호자"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"날짜"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"미용스타일"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"연락처"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.time}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-scissors-line mr-2 text-pink-500"}),s.petName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.ownerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.style||"기본미용"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee(s.status)}`,children:s.status==="confirmed"?"확정":s.status==="pending"?"대기":s.status==="completed"?"완료":"취소"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("a",{href:`tel:${s.phone}`,className:"text-teal-600 hover:text-teal-800 cursor-pointer",children:s.phone})})]},s.id))})]})})]})]}),x==="hotel"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"호텔"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"실시간 업데이트"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"오늘 체크인"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:H.filter(s=>s.checkIn===new Date().toISOString().split("T")[0]).length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"신규 입실"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"현재 투숙"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:H.filter(s=>s.status==="confirmed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"투숙 중"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"오늘 체크아웃"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:H.filter(s=>s.checkOut===new Date().toISOString().split("T")[0]).length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"퇴실 예정"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"총 예약"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:H.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"이번 주 전체"})]})]}),e.jsx(Me,{}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h4",{className:"font-semibold text-gray-900",children:"호텔 예약 현황"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"반려동물"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"보호자"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"룸타입"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"체크인"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"체크아웃"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"연락처"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-hotel-line mr-2 text-blue-500"}),s.petName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.ownerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.roomType||"일반룸"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.checkIn||s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.checkOut||"미정"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee(s.status)}`,children:s.status==="confirmed"?"확정":s.status==="pending"?"대기":s.status==="completed"?"완료":"취소"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("a",{href:`tel:${s.phone}`,className:"text-teal-600 hover:text-teal-800 cursor-pointer",children:s.phone})})]},s.id))})]})})]})]}),x==="daycare"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"데이케어"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:"실시간 업데이트"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-orange-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"오늘 등원"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:U.filter(s=>s.date===new Date().toISOString().split("T")[0]).length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"오늘 데이케어"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"현재 돌봄"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:U.filter(s=>s.status==="confirmed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"돌봄 중"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"완료"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:U.filter(s=>s.status==="completed").length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"오늘 완료"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"총 예약"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:U.length})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"이번 주 전체"})]})]}),e.jsx(We,{}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h4",{className:"font-semibold text-gray-900",children:"데이케어 예약 현황"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"시간"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"반려동물"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"보호자"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"날짜"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"연락처"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.time}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-home-heart-line mr-2 text-orange-500"}),s.petName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.ownerName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.date}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ee(s.status)}`,children:s.status==="confirmed"?"확정":s.status==="pending"?"대기":s.status==="completed"?"완료":"취소"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("a",{href:`tel:${s.phone}`,className:"text-teal-600 hover:text-teal-800 cursor-pointer",children:s.phone})})]},s.id))})]})})]})]}),x==="account"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"계정 관리"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:[e.jsx("i",{className:"ri-user-settings-line mr-2 text-teal-600"}),"관리자 계정 정보"]}),e.jsxs("button",{onClick:()=>T(!A),className:"text-teal-600 hover:text-teal-800 cursor-pointer",children:[e.jsx("i",{className:"ri-edit-line mr-1"}),A?"취소":"수정"]})]}),A?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"아이디"}),e.jsx("input",{type:"text",value:d.username,onChange:s=>y(a=>({...a,username:s.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),e.jsx("input",{type:"email",value:d.email,onChange:s=>y(a=>({...a,email:s.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"보안 질문"}),e.jsx("input",{type:"text",value:d.securityQuestion,onChange:s=>y(a=>({...a,securityQuestion:s.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"보안 답변"}),e.jsx("input",{type:"text",value:d.securityAnswer||"",onChange:s=>y(a=>({...a,securityAnswer:s.target.value})),placeholder:"새로운 보안 답변을 입력하세요",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"새로운 답변만 저장되며 입력하지 않으면 기존 값이 유지됩니다."})]}),e.jsxs("button",{onClick:je,disabled:V,className:"w-full bg-teal-600 text-white py-2 rounded-lg font-semibold hover:bg-teal-700 transition-colors whitespace-nowrap cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-save-line mr-2"}),V?"저장 중...":"저장"]})]}):e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"아이디"}),e.jsx("span",{className:"ml-2 text-gray-600",children:d.username})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"비밀번호"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Supabase Auth로 암호화되어 관리됩니다."})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"이메일"}),e.jsx("span",{className:"ml-2 text-gray-600",children:d.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"보안 질문"}),e.jsx("span",{className:"ml-2 text-gray-600",children:d.securityQuestion})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4",children:[e.jsx("i",{className:"ri-shield-check-line mr-2 text-green-600"}),"보안 설정"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-green-800 mb-2",children:"계정 보안 상태"}),e.jsxs("div",{className:"space-y-2 text-sm text-green-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line mr-2"}),e.jsx("span",{children:"비밀번호 암호화 저장"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line mr-2"}),e.jsx("span",{children:"보안 질문 등록 완료"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-check-line mr-2"}),e.jsx("span",{children:"이메일 인증 완료"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-medium text-yellow-800 mb-2",children:[e.jsx("i",{className:"ri-information-line mr-2"}),"비밀번호 찾기 안내"]}),e.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"보안 질문을 통과하면 등록된 이메일로 Supabase 비밀번호 재설정 링크가 자동 전송됩니다."}),e.jsxs("a",{href:"/admin",className:"text-yellow-800 hover:text-yellow-900 text-sm font-medium cursor-pointer",children:[e.jsx("i",{className:"ri-arrow-right-line mr-1"}),"로그인 페이지로 이동"]})]})]}),e.jsxs("div",{className:"mt-6 border-t border-gray-100 pt-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"비밀번호 변경"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"password",value:l.newPassword,onChange:s=>o(a=>({...a,newPassword:s.target.value})),placeholder:"새 비밀번호 (최소 8자)",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"}),e.jsx("input",{type:"password",value:l.confirmPassword,onChange:s=>o(a=>({...a,confirmPassword:s.target.value})),placeholder:"비밀번호 확인",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"}),e.jsxs("button",{onClick:Ne,disabled:h,className:"w-full bg-green-600 text-white py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors whitespace-nowrap cursor-pointer disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx("i",{className:"ri-lock-password-line mr-2"}),h?"변경 중...":"비밀번호 변경"]})]})]})]})]})]})]})]})]})]})}export{Xe as default};
//# sourceMappingURL=page-DNhV13O9.js.map
