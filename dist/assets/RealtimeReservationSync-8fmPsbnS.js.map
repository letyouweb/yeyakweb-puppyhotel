{"version":3,"file":"RealtimeReservationSync-8fmPsbnS.js","sources":["../../src/components/feature/GroomingCalendar.tsx","../../src/components/feature/HotelCalendar.tsx","../../src/components/feature/RealtimeReservationSync.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\n\ninterface GroomingReservation {\n  id: string;\n  petName: string;\n  ownerName: string;\n  time: string;\n  phone: string;\n  style: string;\n  status: 'confirmed' | 'pending' | 'completed' | 'cancelled';\n}\n\ninterface GroomingData {\n  [date: string]: GroomingReservation[];\n}\n\n/**\n * 미용 예약 달력 컴포넌트\n * - localStorage에 저장된 groomingReservations 데이터를 불러와 날짜별로 그룹화하여 달력에 표시합니다.\n * - 선택한 날짜의 예약 목록을 보여주며, 수동으로 예약 추가/삭제가 가능합니다.\n */\nexport default function GroomingCalendar() {\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [groomingData, setGroomingData] = useState<GroomingData>({});\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\n  // 수동 예약 추가 폼 표시 여부\n  const [showAddForm, setShowAddForm] = useState(false);\n  // 새 예약 입력 값 상태\n  const [newReservation, setNewReservation] = useState({\n    petName: '',\n    ownerName: '',\n    time: '',\n    phone: '',\n    style: ''\n  });\n\n  useEffect(() => {\n    loadGroomingData();\n    // 실시간 예약 업데이트 감지: reservationUpdated 이벤트가 발생하면 데이터 재로드\n    const handleReservationUpdate = () => {\n      loadGroomingData();\n    };\n    window.addEventListener('reservationUpdated', handleReservationUpdate);\n    return () => {\n      window.removeEventListener('reservationUpdated', handleReservationUpdate);\n    };\n  }, [currentDate]);\n\n  const loadGroomingData = () => {\n    try {\n      // 미용 예약은 allReservations에서 service가 'grooming'인 것과 groomingReservations 모두 포함\n      const allRaw = localStorage.getItem('allReservations');\n      const groomingRaw = localStorage.getItem('groomingReservations');\n      let reservations: any[] = [];\n      // 1) 전체 예약 중 미용(grooming) 예약 필터링\n      if (allRaw) {\n        try {\n          const all = JSON.parse(allRaw);\n          const fromAll = all.filter((r: any) => r && r.service === 'grooming');\n          reservations = reservations.concat(fromAll);\n        } catch (e) {\n          console.warn('allReservations 파싱 실패:', e);\n        }\n      }\n      // 2) 미용 달력에서 수동 추가한 예약 포함\n      if (groomingRaw) {\n        try {\n          const fromGrooming = JSON.parse(groomingRaw);\n          reservations = reservations.concat(fromGrooming);\n        } catch (e) {\n          console.warn('groomingReservations 파싱 실패:', e);\n        }\n      }\n      if (!reservations.length) {\n        generateMockGroomingData();\n        return;\n      }\n      // 3) id 기준으로 중복 제거\n      const seenIds = new Set<string>();\n      const deduped: any[] = [];\n      for (const res of reservations) {\n        if (!res || !res.id) continue;\n        if (seenIds.has(res.id)) continue;\n        seenIds.add(res.id);\n        deduped.push(res);\n      }\n      // 4) 날짜별 그룹화\n      const groupedData: GroomingData = {};\n      deduped.forEach((reservation: any) => {\n        const date = reservation.date;\n        if (!date) return;\n        if (!groupedData[date]) {\n          groupedData[date] = [];\n        }\n        groupedData[date].push({\n          id: reservation.id,\n          petName: reservation.petName,\n          ownerName: reservation.ownerName || '고객',\n          time: reservation.time,\n          phone: reservation.phone,\n          style: reservation.style || '기본미용',\n          status: reservation.status\n        });\n      });\n      // 시간순 정렬\n      Object.keys(groupedData).forEach(date => {\n        groupedData[date].sort((a, b) => a.time.localeCompare(b.time));\n      });\n      setGroomingData(groupedData);\n    } catch (error) {\n      console.warn('미용 예약 데이터 로드 실패:', error);\n      generateMockGroomingData();\n    }\n  };\n\n  const generateMockGroomingData = () => {\n    const data: GroomingData = {};\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\n    const timeSlots = ['09:00', '10:00', '11:00', '13:00', '14:00', '15:00', '16:00', '17:00'];\n    const petNames = ['초코', '바둑이', '뽀삐', '코코', '몽이', '루루', '보리', '콩이'];\n    const ownerNames = ['김민수', '이영희', '박철수', '정수진', '최동훈', '한지민', '송민호', '윤서연'];\n    const styles = ['전체미용', '부분컷', '목욕+컷', '발톱정리', '얼굴컷', '위생미용'];\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = new Date(year, month, day);\n      const dateString = date.toISOString().split('T')[0];\n      // 주말과 평일에 따른 예약 패턴\n      const isWeekend = date.getDay() === 0 || date.getDay() === 6;\n      const maxReservations = isWeekend ? 6 : 4;\n      const numReservations = Math.floor(Math.random() * maxReservations);\n      if (numReservations > 0) {\n        const dayReservations: GroomingReservation[] = [];\n        const usedTimes = new Set<string>();\n        for (let i = 0; i < numReservations; i++) {\n          let time;\n          do {\n            time = timeSlots[Math.floor(Math.random() * timeSlots.length)];\n          } while (usedTimes.has(time));\n          usedTimes.add(time);\n          dayReservations.push({\n            id: `grooming-${dateString}-${i}`,\n            petName: petNames[Math.floor(Math.random() * petNames.length)],\n            ownerName: ownerNames[Math.floor(Math.random() * ownerNames.length)],\n            time: time,\n            phone: `010-${Math.floor(Math.random() * 9000) + 1000}-${Math.floor(Math.random() * 9000) + 1000}`,\n            style: styles[Math.floor(Math.random() * styles.length)],\n            status: ['confirmed', 'pending', 'completed'][Math.floor(Math.random() * 3)] as any\n          });\n        }\n        dayReservations.sort((a, b) => a.time.localeCompare(b.time));\n        data[dateString] = dayReservations;\n      }\n    }\n    setGroomingData(data);\n  };\n\n  const getDaysInMonth = () => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const daysInMonth = lastDay.getDate();\n    const startingDayOfWeek = firstDay.getDay();\n    const days = [] as (number | null)[];\n    for (let i = 0; i < startingDayOfWeek; i++) {\n      days.push(null);\n    }\n    for (let day = 1; day <= daysInMonth; day++) {\n      days.push(day);\n    }\n    return days;\n  };\n\n  // 날짜 문자열을 로컬 시간 기준(한국 시간)으로 반환하는 함수\n  // toISOString()은 UTC 기준으로 날짜를 문자열로 반환하여 하루가 밀리는 문제가 발생할 수 있으므로\n  // 연도/월/일을 직접 조합하여 \"YYYY-MM-DD\" 형식의 문자열을 생성한다.\n  const getDateString = (day: number) => {\n    const year = currentDate.getFullYear();\n    // getMonth()는 0부터 시작하므로 +1을 해준다\n    const month = currentDate.getMonth() + 1;\n    const monthStr = month.toString().padStart(2, '0');\n    const dayStr = day.toString().padStart(2, '0');\n    return `${year}-${monthStr}-${dayStr}`;\n  };\n\n  const getReservationCount = (day: number) => {\n    const dateString = getDateString(day);\n    return groomingData[dateString]?.length || 0;\n  };\n\n  const getStatusColor = (count: number) => {\n    if (count === 0) return 'bg-gray-100 text-gray-500';\n    if (count <= 2) return 'bg-green-100 text-green-700';\n    if (count <= 4) return 'bg-yellow-100 text-yellow-700';\n    return 'bg-red-100 text-red-700';\n  };\n\n  const getStatusText = (count: number) => {\n    if (count === 0) return '예약없음';\n    if (count <= 2) return '여유';\n    if (count <= 4) return '보통';\n    return '포화';\n  };\n\n  const navigateMonth = (direction: 'prev' | 'next') => {\n    const newDate = new Date(currentDate);\n    if (direction === 'prev') {\n      newDate.setMonth(newDate.getMonth() - 1);\n    } else {\n      newDate.setMonth(newDate.getMonth() + 1);\n    }\n    setCurrentDate(newDate);\n    setSelectedDate(null);\n  };\n\n  const handleDateClick = (day: number) => {\n    const dateString = getDateString(day);\n    setSelectedDate(selectedDate === dateString ? null : dateString);\n    // 폼을 초기화하고 숨김\n    setShowAddForm(false);\n    setNewReservation({ petName: '', ownerName: '', time: '', phone: '', style: '' });\n  };\n\n  const getReservationStatusColor = (status: string) => {\n    switch (status) {\n      case 'confirmed': return 'bg-green-100 text-green-800';\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\n      case 'completed': return 'bg-blue-100 text-blue-800';\n      case 'cancelled': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // 입력 변경 핸들러\n  const handleNewChange = (field: keyof typeof newReservation, value: string) => {\n    setNewReservation((prev) => ({ ...prev, [field]: value }));\n  };\n\n  // 새 예약 추가\n  const addReservation = () => {\n    if (!selectedDate) return;\n    const reservations = JSON.parse(localStorage.getItem('groomingReservations') || '[]');\n    const newRes = {\n      id: `grooming-${selectedDate}-${Date.now()}`,\n      petName: newReservation.petName || '반려동물',\n      ownerName: newReservation.ownerName || '고객',\n      date: selectedDate,\n      time: newReservation.time || '미정',\n      phone: newReservation.phone || '',\n      style: newReservation.style || '기본미용',\n      status: 'confirmed',\n      service: 'grooming'\n    };\n    reservations.push(newRes);\n    localStorage.setItem('groomingReservations', JSON.stringify(reservations));\n    setNewReservation({ petName: '', ownerName: '', time: '', phone: '', style: '' });\n    setShowAddForm(false);\n    loadGroomingData();\n    window.dispatchEvent(new CustomEvent('reservationUpdated'));\n  };\n\n  // 예약 삭제\n  const deleteReservation = (id: string) => {\n    const reservations = JSON.parse(localStorage.getItem('groomingReservations') || '[]');\n    const newData = reservations.filter((r: any) => r.id !== id);\n    localStorage.setItem('groomingReservations', JSON.stringify(newData));\n    loadGroomingData();\n    window.dispatchEvent(new CustomEvent('reservationUpdated'));\n  };\n\n  const monthNames = ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'];\n  const dayNames = ['일','월','화','수','목','금','토'];\n  const today = new Date().toISOString().split('T')[0];\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-2xl font-bold text-gray-900\">\n            <i className=\"ri-scissors-line mr-2 text-yellow-600\"></i>\n            미용 예약 달력\n          </h3>\n          <div className=\"flex items-center space-x-2\">\n            <button onClick={() => navigateMonth('prev')} className=\"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer\">\n              <i className=\"ri-arrow-left-line text-gray-600\"></i>\n            </button>\n            <h4 className=\"text-xl font-semibold text-gray-800 min-w-[120px] text-center\">\n              {currentDate.getFullYear()}년 {monthNames[currentDate.getMonth()]}\n            </h4>\n            <button onClick={() => navigateMonth('next')} className=\"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer\">\n              <i className=\"ri-arrow-right-line text-gray-600\"></i>\n            </button>\n          </div>\n        </div>\n        {/* 범례 */}\n        <div className=\"flex items-center justify-center space-x-6 mb-6 p-4 bg-yellow-50 rounded-lg\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-4 h-4 bg-gray-100 rounded\"></div>\n            <span className=\"text-sm text-gray-700\">예약없음</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-4 h-4 bg-green-100 rounded\"></div>\n            <span className=\"text-sm text-gray-700\">여유 (1-2건)</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-4 h-4 bg-yellow-100 rounded\"></div>\n            <span className=\"text-sm text-gray-700\">보통 (3-4건)</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-4 h-4 bg-red-100 rounded\"></div>\n            <span className=\"text-sm text-gray-700\">포화 (5건+)</span>\n          </div>\n        </div>\n      </div>\n      {/* 달력 헤더 */}\n      <div className=\"grid grid-cols-7 gap-1 mb-2\">\n        {dayNames.map((day, index) => (\n          <div key={day} className={`p-3 text-center font-semibold text-sm ${index === 0 ? 'text-red-600' : index === 6 ? 'text-blue-600' : 'text-gray-700'}`}>{day}</div>\n        ))}\n      </div>\n      {/* 달력 본체 */}\n      <div className=\"grid grid-cols-7 gap-1\">\n        {getDaysInMonth().map((day, index) => {\n          if (day === null) {\n            return <div key={index} className=\"p-3\"></div>;\n          }\n          const dateString = getDateString(day);\n          const reservationCount = getReservationCount(day);\n          const isToday = dateString === today;\n          const isSelected = selectedDate === dateString;\n          return (\n            <div key={day} onClick={() => handleDateClick(day)} className={`relative p-3 border border-gray-200 rounded-lg cursor-pointer transition-all hover:shadow-md ${isToday ? 'ring-2 ring-yellow-500' : ''} ${isSelected ? 'bg-yellow-50 border-yellow-300' : 'hover:bg-gray-50'}`}>\n              <div className=\"text-center\">\n                <div className={`text-lg font-semibold mb-1 ${index % 7 === 0 ? 'text-red-600' : index % 7 === 6 ? 'text-blue-600' : 'text-gray-900'}`}>{day}</div>\n                <div className=\"space-y-1\">\n                  <div className={`text-xs px-2 py-1 rounded-full ${getStatusColor(reservationCount)}`}>{getStatusText(reservationCount)}</div>\n                  {reservationCount > 0 && <div className=\"text-xs text-gray-600\">{reservationCount}건 예약</div>}\n                </div>\n              </div>\n              {isToday && <div className=\"absolute top-1 right-1\"><div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div></div>}\n            </div>\n          );\n        })}\n      </div>\n      {/* 선택된 날짜 상세 정보 */}\n      {selectedDate && groomingData[selectedDate] && (\n        <div className=\"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200\">\n          <h4 className=\"font-semibold text-yellow-900 mb-3\">\n            {new Date(selectedDate).toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' })} 미용 예약 현황\n          </h4>\n          <div className=\"space-y-3\">\n            {groomingData[selectedDate].map((reservation, index) => (\n              <div key={index} className=\"bg-white rounded-lg p-3 border border-yellow-200\">\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-2 mb-1\">\n                      <span className=\"font-semibold text-gray-900\">{reservation.time}</span>\n                      <span className={`text-xs px-2 py-1 rounded-full ${getReservationStatusColor(reservation.status)}`}>\n                        {reservation.status === 'confirmed' ? '확정' : reservation.status === 'pending' ? '대기' : reservation.status === 'completed' ? '완료' : '취소'}\n                      </span>\n                    </div>\n                    <div className=\"text-sm text-gray-700\">\n                      <div className=\"flex items-center space-x-4\">\n                        <span><strong>반려동물:</strong> {reservation.petName}</span>\n                        <span><strong>보호자:</strong> {reservation.ownerName}</span>\n                      </div>\n                      <div className=\"flex items-center space-x-4 mt-1\">\n                        <span><strong>미용스타일:</strong> {reservation.style}</span>\n                        <span><strong>연락처:</strong> {reservation.phone}</span>\n                      </div>\n                    </div>\n                  </div>\n                  {/* 삭제 버튼 */}\n                  <button onClick={() => deleteReservation(reservation.id)} className=\"text-red-500 text-xs ml-2\">삭제</button>\n                </div>\n              </div>\n            ))}\n          </div>\n          {/* 예약 추가/폼 */}\n          <div className=\"mt-4\">\n            {showAddForm ? (\n              <div className=\"space-y-2\">\n                <input type=\"text\" placeholder=\"반려동물 이름\" value={newReservation.petName} onChange={(e) => handleNewChange('petName', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"보호자 이름\" value={newReservation.ownerName} onChange={(e) => handleNewChange('ownerName', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"time\" value={newReservation.time} onChange={(e) => handleNewChange('time', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"연락처\" value={newReservation.phone} onChange={(e) => handleNewChange('phone', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"미용 스타일\" value={newReservation.style} onChange={(e) => handleNewChange('style', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <div className=\"flex space-x-2\">\n                  <button onClick={addReservation} className=\"bg-yellow-500 text-white px-3 py-1 rounded\">추가</button>\n                  <button onClick={() => { setShowAddForm(false); setNewReservation({ petName: '', ownerName: '', time: '', phone: '', style: '' }); }} className=\"border px-3 py-1 rounded\">취소</button>\n                </div>\n              </div>\n            ) : (\n              <button onClick={() => setShowAddForm(true)} className=\"bg-yellow-500 text-white px-3 py-1 rounded\">예약 추가</button>\n            )}\n          </div>\n        </div>\n      )}\n      {/* 예약이 없는 날짜에 대한 안내와 추가 폼 */}\n      {selectedDate && !groomingData[selectedDate] && (\n        <div className=\"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n          <h4 className=\"font-semibold text-gray-700 mb-2\">\n            {new Date(selectedDate).toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' })}\n          </h4>\n          <p className=\"text-gray-600 mb-4\">이 날은 미용 예약이 없습니다.</p>\n          {/* 예약이 없는 날에도 새 예약 추가 가능 */}\n          <div>\n            {showAddForm ? (\n              <div className=\"space-y-2\">\n                <input type=\"text\" placeholder=\"반려동물 이름\" value={newReservation.petName} onChange={(e) => handleNewChange('petName', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"보호자 이름\" value={newReservation.ownerName} onChange={(e) => handleNewChange('ownerName', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"time\" value={newReservation.time} onChange={(e) => handleNewChange('time', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"연락처\" value={newReservation.phone} onChange={(e) => handleNewChange('phone', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"미용 스타일\" value={newReservation.style} onChange={(e) => handleNewChange('style', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <div className=\"flex space-x-2\">\n                  <button onClick={addReservation} className=\"bg-yellow-500 text-white px-3 py-1 rounded\">추가</button>\n                  <button onClick={() => { setShowAddForm(false); setNewReservation({ petName: '', ownerName: '', time: '', phone: '', style: '' }); }} className=\"border px-3 py-1 rounded\">취소</button>\n                </div>\n              </div>\n            ) : (\n              <button onClick={() => setShowAddForm(true)} className=\"bg-yellow-500 text-white px-3 py-1 rounded\">예약 추가</button>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\n\ninterface HotelReservation {\n  id: string;\n  petName: string;\n  ownerName: string;\n  checkIn: string;\n  checkOut: string;\n  roomType: string;\n  phone: string;\n  status: 'confirmed' | 'pending' | 'completed' | 'cancelled';\n}\n\ninterface HotelData {\n  [date: string]: HotelReservation[];\n}\n\n/**\n * 호텔 예약 달력 컴포넌트\n * - localStorage에 저장된 hotelReservations 데이터를 불러와 날짜별로 그룹화하여 달력에 표시합니다.\n * - 선택한 날짜의 예약 목록을 보여주며, 수동으로 예약을 추가/삭제할 수 있습니다.\n */\nexport default function HotelCalendar() {\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [hotelData, setHotelData] = useState<HotelData>({});\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\n  // 예약 추가 폼 표시 여부\n  const [showAddForm, setShowAddForm] = useState(false);\n  // 새 호텔 예약 입력 값 상태\n  const [newReservation, setNewReservation] = useState({\n    petName: '',\n    ownerName: '',\n    checkOut: '',\n    roomType: '',\n    phone: ''\n  });\n\n  useEffect(() => {\n    loadHotelData();\n    // 실시간 예약 업데이트 감지\n    const handleReservationUpdate = () => {\n      loadHotelData();\n    };\n    window.addEventListener('reservationUpdated', handleReservationUpdate);\n    return () => {\n      window.removeEventListener('reservationUpdated', handleReservationUpdate);\n    };\n  }, [currentDate]);\n\n  // 호텔 예약 데이터 불러오기 및 그룹화\n  const loadHotelData = () => {\n    try {\n      // 호텔 예약은 allReservations에서 service가 'hotel'인 경우와 hotelReservations 모두를 포함한다.\n      const allRaw = localStorage.getItem('allReservations');\n      const hotelRaw = localStorage.getItem('hotelReservations');\n      let reservations: any[] = [];\n      // 1) 전체 예약 중 service === 'hotel' 항목 추가\n      if (allRaw) {\n        try {\n          const all = JSON.parse(allRaw);\n          const fromAll = all.filter((r: any) => r && r.service === 'hotel');\n          reservations = reservations.concat(fromAll);\n        } catch (e) {\n          console.warn('allReservations 파싱 실패:', e);\n        }\n      }\n      // 2) 호텔 달력에서 수동으로 추가한 예약 포함\n      if (hotelRaw) {\n        try {\n          const fromHotel = JSON.parse(hotelRaw);\n          reservations = reservations.concat(fromHotel);\n        } catch (e) {\n          console.warn('hotelReservations 파싱 실패:', e);\n        }\n      }\n      // 예약 데이터가 없으면 모의 데이터 생성\n      if (!reservations.length) {\n        generateMockHotelData();\n        return;\n      }\n      // 3) id 기준으로 중복 제거\n      const seenIds = new Set<string>();\n      const deduped: any[] = [];\n      for (const res of reservations) {\n        if (!res || !res.id) continue;\n        if (seenIds.has(res.id)) continue;\n        seenIds.add(res.id);\n        deduped.push(res);\n      }\n      // 4) 체크인 날짜 기준으로 그룹화\n      const groupedData: HotelData = {};\n      deduped.forEach((reservation: any) => {\n        const checkInDate = reservation.checkIn || reservation.date;\n        if (!checkInDate) return;\n        if (!groupedData[checkInDate]) {\n          groupedData[checkInDate] = [];\n        }\n        groupedData[checkInDate].push({\n          id: reservation.id,\n          petName: reservation.petName,\n          ownerName: reservation.ownerName || '고객',\n          checkIn: checkInDate,\n          checkOut: reservation.checkOut || '미정',\n          roomType: reservation.roomType || '일반룸',\n          phone: reservation.phone,\n          status: reservation.status\n        });\n      });\n      setHotelData(groupedData);\n    } catch (error) {\n      console.warn('호텔 예약 데이터 로드 실패:', error);\n      generateMockHotelData();\n    }\n  };\n\n  // 모의 호텔 데이터 생성 (개발용)\n  const generateMockHotelData = () => {\n    const data: HotelData = {};\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\n    const petNames = ['초코', '바둑이', '뽀삐', '코코', '몽이', '루루', '보리', '콩이', '마루', '하늘'];\n    const ownerNames = ['김민수', '이영희', '박철수', '정수진', '최동훈', '한지민', '송민호', '윤서연', '장미영', '오준석'];\n    const roomTypes = ['소형견룸', '중형견룸', '대형견룸', '고양이룸', '프리미엄룸'];\n    for (let day = 1; day <= daysInMonth; day++) {\n      const date = new Date(year, month, day);\n      const dateString = date.toISOString().split('T')[0];\n      // 주말과 평일에 따른 예약 패턴\n      const isWeekend = date.getDay() === 0 || date.getDay() === 6;\n      const maxReservations = isWeekend ? 8 : 5;\n      const numReservations = Math.floor(Math.random() * maxReservations);\n      if (numReservations > 0) {\n        const dayReservations: HotelReservation[] = [];\n        for (let i = 0; i < numReservations; i++) {\n          const checkOutDate = new Date(date);\n          checkOutDate.setDate(checkOutDate.getDate() + Math.floor(Math.random() * 5) + 1);\n          dayReservations.push({\n            id: `hotel-${dateString}-${i}`,\n            petName: petNames[Math.floor(Math.random() * petNames.length)],\n            ownerName: ownerNames[Math.floor(Math.random() * ownerNames.length)],\n            checkIn: dateString,\n            checkOut: checkOutDate.toISOString().split('T')[0],\n            roomType: roomTypes[Math.floor(Math.random() * roomTypes.length)],\n            phone: `010-${Math.floor(Math.random() * 9000) + 1000}-${Math.floor(Math.random() * 9000) + 1000}`,\n            status: ['confirmed', 'pending', 'completed'][Math.floor(Math.random() * 3)] as any\n          });\n        }\n        data[dateString] = dayReservations;\n      }\n    }\n    setHotelData(data);\n  };\n\n  const getDaysInMonth = () => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    const daysInMonth = lastDay.getDate();\n    const startingDayOfWeek = firstDay.getDay();\n    const days: (number | null)[] = [];\n    for (let i = 0; i < startingDayOfWeek; i++) {\n      days.push(null);\n    }\n    for (let day = 1; day <= daysInMonth; day++) {\n      days.push(day);\n    }\n    return days;\n  };\n\n  // 날짜 문자열을 로컬 시간 기준(한국 시간)으로 반환하는 함수\n  // toISOString()은 UTC 기준으로 날짜를 문자열로 반환하여 하루가 밀리는 문제가 발생할 수 있으므로\n  // 연도/월/일을 직접 조합하여 \"YYYY-MM-DD\" 형식의 문자열을 생성한다.\n  const getDateString = (day: number) => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth() + 1;\n    const monthStr = month.toString().padStart(2, '0');\n    const dayStr = day.toString().padStart(2, '0');\n    return `${year}-${monthStr}-${dayStr}`;\n  };\n\n  const getReservationCount = (day: number) => {\n    const dateString = getDateString(day);\n    return hotelData[dateString]?.length || 0;\n  };\n\n  const getStatusColor = (count: number) => {\n    if (count === 0) return 'bg-gray-100 text-gray-500';\n    if (count <= 3) return 'bg-green-100 text-green-700';\n    if (count <= 6) return 'bg-yellow-100 text-yellow-700';\n    return 'bg-red-100 text-red-700';\n  };\n\n  const getStatusText = (count: number) => {\n    if (count === 0) return '예약없음';\n    if (count <= 3) return '여유';\n    if (count <= 6) return '보통';\n    return '만실';\n  };\n\n  const navigateMonth = (direction: 'prev' | 'next') => {\n    const newDate = new Date(currentDate);\n    if (direction === 'prev') {\n      newDate.setMonth(newDate.getMonth() - 1);\n    } else {\n      newDate.setMonth(newDate.getMonth() + 1);\n    }\n    setCurrentDate(newDate);\n    setSelectedDate(null);\n    // 폼을 초기화\n    setShowAddForm(false);\n    setNewReservation({ petName: '', ownerName: '', checkOut: '', roomType: '', phone: '' });\n  };\n\n  const handleDateClick = (day: number) => {\n    const dateString = getDateString(day);\n    setSelectedDate(selectedDate === dateString ? null : dateString);\n    // 날짜를 바꿀 때 폼을 초기화\n    setShowAddForm(false);\n    setNewReservation({ petName: '', ownerName: '', checkOut: '', roomType: '', phone: '' });\n  };\n\n  const getReservationStatusColor = (status: string) => {\n    switch (status) {\n      case 'confirmed': return 'bg-green-100 text-green-800';\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\n      case 'completed': return 'bg-blue-100 text-blue-800';\n      case 'cancelled': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // 새 예약 폼 입력 핸들러\n  const handleNewChange = (field: keyof typeof newReservation, value: string) => {\n    setNewReservation((prev) => ({ ...prev, [field]: value }));\n  };\n\n  // 호텔 예약 추가\n  const addReservation = () => {\n    if (!selectedDate) return;\n    const reservations = JSON.parse(localStorage.getItem('hotelReservations') || '[]');\n    const newRes: any = {\n      id: `hotel-${selectedDate}-${Date.now()}`,\n      petName: newReservation.petName || '반려동물',\n      ownerName: newReservation.ownerName || '고객',\n      checkIn: selectedDate,\n      checkOut: newReservation.checkOut || selectedDate,\n      roomType: newReservation.roomType || '일반룸',\n      phone: newReservation.phone || '',\n      status: 'confirmed'\n    };\n    reservations.push(newRes);\n    localStorage.setItem('hotelReservations', JSON.stringify(reservations));\n    // 폼 초기화 및 닫기\n    setNewReservation({ petName: '', ownerName: '', checkOut: '', roomType: '', phone: '' });\n    setShowAddForm(false);\n    loadHotelData();\n    window.dispatchEvent(new CustomEvent('reservationUpdated'));\n  };\n\n  // 호텔 예약 삭제\n  const deleteReservation = (id: string) => {\n    const reservations = JSON.parse(localStorage.getItem('hotelReservations') || '[]');\n    const newData = reservations.filter((r: any) => r.id !== id);\n    localStorage.setItem('hotelReservations', JSON.stringify(newData));\n    loadHotelData();\n    window.dispatchEvent(new CustomEvent('reservationUpdated'));\n  };\n\n  const monthNames = ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'];\n  const dayNames = ['일','월','화','수','목','금','토'];\n  const today = new Date().toISOString().split('T')[0];\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6\">\n      <div className=\"mb-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-2xl font-bold text-gray-900\">\n            <i className=\"ri-hotel-line mr-2 text-blue-600\"></i>\n            호텔 예약 달력\n          </h3>\n          <div className=\"flex items-center space-x-2\">\n            <button onClick={() => navigateMonth('prev')} className=\"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer\">\n              <i className=\"ri-arrow-left-line text-gray-600\"></i>\n            </button>\n            <h4 className=\"text-xl font-semibold text-gray-800 min-w-[120px] text-center\">\n              {currentDate.getFullYear()}년 {monthNames[currentDate.getMonth()]}\n            </h4>\n            <button onClick={() => navigateMonth('next')} className=\"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer\">\n              <i className=\"ri-arrow-right-line text-gray-600\"></i>\n            </button>\n          </div>\n        </div>\n        {/* 범례 */}\n        <div className=\"flex items-center justify-center space-x-6 mb-6 p-4 bg-blue-50 rounded-lg\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-4 h-4 bg-gray-100 rounded\"></div>\n            <span className=\"text-sm text-gray-700\">예약없음</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-4 h-4 bg-green-100 rounded\"></div>\n            <span className=\"text-sm text-gray-700\">여유 (1-3건)</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-4 h-4 bg-yellow-100 rounded\"></div>\n            <span className=\"text-sm text-gray-700\">보통 (4-6건)</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-4 h-4 bg-red-100 rounded\"></div>\n            <span className=\"text-sm text-gray-700\">만실 (7건+)</span>\n          </div>\n        </div>\n      </div>\n      {/* 달력 헤더 */}\n      <div className=\"grid grid-cols-7 gap-1 mb-2\">\n        {dayNames.map((day, index) => (\n          <div key={day} className={`p-3 text-center font-semibold text-sm ${index === 0 ? 'text-red-600' : index === 6 ? 'text-blue-600' : 'text-gray-700'}`}>{day}</div>\n        ))}\n      </div>\n      {/* 달력 본체 */}\n      <div className=\"grid grid-cols-7 gap-1\">\n        {getDaysInMonth().map((day, index) => {\n          if (day === null) {\n            return <div key={index} className=\"p-3\"></div>;\n          }\n          const dateString = getDateString(day);\n          const reservationCount = getReservationCount(day);\n          const isToday = dateString === today;\n          const isSelected = selectedDate === dateString;\n          return (\n            <div key={day} onClick={() => handleDateClick(day)} className={`relative p-3 border border-gray-200 rounded-lg cursor-pointer transition-all hover:shadow-md ${isToday ? 'ring-2 ring-blue-500' : ''} ${isSelected ? 'bg-blue-50 border-blue-300' : 'hover:bg-gray-50'}`}>\n              <div className=\"text-center\">\n                <div className={`text-lg font-semibold mb-1 ${index % 7 === 0 ? 'text-red-600' : index % 7 === 6 ? 'text-blue-600' : 'text-gray-900'}`}>{day}</div>\n                <div className=\"space-y-1\">\n                  <div className={`text-xs px-2 py-1 rounded-full ${getStatusColor(reservationCount)}`}>{getStatusText(reservationCount)}</div>\n                  {reservationCount > 0 && <div className=\"text-xs text-gray-600\">{reservationCount}건 예약</div>}\n                </div>\n              </div>\n              {isToday && <div className=\"absolute top-1 right-1\"><div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div></div>}\n            </div>\n          );\n        })}\n      </div>\n      {/* 선택된 날짜 상세 정보 */}\n      {selectedDate && hotelData[selectedDate] && (\n        <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n          <h4 className=\"font-semibold text-blue-900 mb-3\">\n            {new Date(selectedDate).toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' })} 호텔 예약 현황\n          </h4>\n          <div className=\"space-y-3\">\n            {hotelData[selectedDate].map((reservation, index) => (\n              <div key={index} className=\"bg-white rounded-lg p-3 border border-blue-200\">\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-2 mb-1\">\n                      <span className=\"font-semibold text-gray-900\">{reservation.petName}</span>\n                      <span className={`text-xs px-2 py-1 rounded-full ${getReservationStatusColor(reservation.status)}`}>{reservation.status === 'confirmed' ? '확정' : reservation.status === 'pending' ? '대기' : reservation.status === 'completed' ? '완료' : '취소'}</span>\n                    </div>\n                    <div className=\"text-sm text-gray-700\">\n                      <div className=\"flex items-center space-x-4\">\n                        <span><strong>보호자:</strong> {reservation.ownerName}</span>\n                        <span><strong>룸타입:</strong> {reservation.roomType}</span>\n                      </div>\n                      <div className=\"flex items-center space-x-4 mt-1\">\n                        <span><strong>체크인:</strong> {reservation.checkIn}</span>\n                        <span><strong>체크아웃:</strong> {reservation.checkOut}</span>\n                      </div>\n                      <div className=\"mt-1\">\n                        <span><strong>연락처:</strong> {reservation.phone}</span>\n                      </div>\n                    </div>\n                  </div>\n                  {/* 삭제 버튼 */}\n                  <button onClick={() => deleteReservation(reservation.id)} className=\"text-red-500 text-xs ml-2\">삭제</button>\n                </div>\n              </div>\n            ))}\n          </div>\n          {/* 예약 추가/폼 */}\n          <div className=\"mt-4\">\n            {showAddForm ? (\n              <div className=\"space-y-2\">\n                <input type=\"text\" placeholder=\"반려동물 이름\" value={newReservation.petName} onChange={(e) => handleNewChange('petName', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"보호자 이름\" value={newReservation.ownerName} onChange={(e) => handleNewChange('ownerName', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"date\" placeholder=\"체크아웃\" value={newReservation.checkOut} onChange={(e) => handleNewChange('checkOut', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"룸타입\" value={newReservation.roomType} onChange={(e) => handleNewChange('roomType', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"연락처\" value={newReservation.phone} onChange={(e) => handleNewChange('phone', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <div className=\"flex space-x-2\">\n                  <button onClick={addReservation} className=\"bg-blue-500 text-white px-3 py-1 rounded\">추가</button>\n                  <button onClick={() => { setShowAddForm(false); setNewReservation({ petName: '', ownerName: '', checkOut: '', roomType: '', phone: '' }); }} className=\"border px-3 py-1 rounded\">취소</button>\n                </div>\n              </div>\n            ) : (\n              <button onClick={() => setShowAddForm(true)} className=\"bg-blue-500 text-white px-3 py-1 rounded\">예약 추가</button>\n            )}\n          </div>\n        </div>\n      )}\n      {/* 예약이 없는 날짜에 대한 안내와 추가 폼 */}\n      {selectedDate && !hotelData[selectedDate] && (\n        <div className=\"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n          <h4 className=\"font-semibold text-gray-700 mb-2\">\n            {new Date(selectedDate).toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' })}\n          </h4>\n          <p className=\"text-gray-600 mb-4\">이 날은 호텔 예약이 없습니다.</p>\n          {/* 예약이 없는 날에도 새 예약 추가 가능 */}\n          <div>\n            {showAddForm ? (\n              <div className=\"space-y-2\">\n                <input type=\"text\" placeholder=\"반려동물 이름\" value={newReservation.petName} onChange={(e) => handleNewChange('petName', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"보호자 이름\" value={newReservation.ownerName} onChange={(e) => handleNewChange('ownerName', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"date\" placeholder=\"체크아웃\" value={newReservation.checkOut} onChange={(e) => handleNewChange('checkOut', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"룸타입\" value={newReservation.roomType} onChange={(e) => handleNewChange('roomType', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <input type=\"text\" placeholder=\"연락처\" value={newReservation.phone} onChange={(e) => handleNewChange('phone', e.target.value)} className=\"w-full border p-2 rounded\" />\n                <div className=\"flex space-x-2\">\n                  <button onClick={addReservation} className=\"bg-blue-500 text-white px-3 py-1 rounded\">추가</button>\n                  <button onClick={() => { setShowAddForm(false); setNewReservation({ petName: '', ownerName: '', checkOut: '', roomType: '', phone: '' }); }} className=\"border px-3 py-1 rounded\">취소</button>\n                </div>\n              </div>\n            ) : (\n              <button onClick={() => setShowAddForm(true)} className=\"bg-blue-500 text-white px-3 py-1 rounded\">예약 추가</button>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import { useEffect } from 'react';\r\n\r\n// 실시간 예약 동기화를 위한 유틸리티 컴포넌트\r\n// 브라우저의 localStorage에 전체 예약과 서비스별 예약 데이터를 초기화하고,\r\n// 스토리지 변경을 감지하여 다른 컴포넌트에 업데이트 이벤트를 전달합니다.\r\nexport default function RealtimeReservationSync() {\r\n  useEffect(() => {\r\n    // 초기화: 로컬 스토리지에 필요한 키가 없으면 빈 배열로 생성\r\n    const initializeReservationData = () => {\r\n      if (!localStorage.getItem('allReservations')) {\r\n        localStorage.setItem('allReservations', JSON.stringify([]));\r\n      }\r\n      if (!localStorage.getItem('hotelReservations')) {\r\n        localStorage.setItem('hotelReservations', JSON.stringify([]));\r\n      }\r\n      if (!localStorage.getItem('groomingReservations')) {\r\n        localStorage.setItem('groomingReservations', JSON.stringify([]));\r\n      }\r\n      // 새로운 데이케어 예약 저장소 초기화\r\n      if (!localStorage.getItem('daycareReservations')) {\r\n        localStorage.setItem('daycareReservations', JSON.stringify([]));\r\n      }\r\n    };\r\n\r\n    initializeReservationData();\r\n\r\n    // 다른 탭에서 localStorage가 변경될 때 변경을 감지하여 커스텀 이벤트를 발생\r\n    const handleStorageChange = (e: StorageEvent) => {\r\n      if (\r\n        e.key === 'allReservations' ||\r\n        e.key === 'hotelReservations' ||\r\n        e.key === 'groomingReservations' ||\r\n        e.key === 'daycareReservations'\r\n      ) {\r\n        window.dispatchEvent(new CustomEvent('reservationUpdated'));\r\n      }\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n    return () => {\r\n      window.removeEventListener('storage', handleStorageChange);\r\n    };\r\n  }, []);\r\n  return null; // UI를 렌더링하지 않는 유틸리티 컴포넌트\r\n}\r\n\r\n// 예약 데이터를 localStorage에 업데이트하는 유틸리티 함수\r\n// 전체 예약(allReservations)과 서비스별 예약(hotel/grooming/daycare) 배열에 새 예약을 추가/업데이트한 후\r\n// reservationUpdated 이벤트를 발생시켜 달력 컴포넌트가 새 데이터를 불러오도록 합니다.\r\n// 중복 방지: 동일한 ID가 있으면 기존 예약을 업데이트하고, 없으면 추가합니다.\r\nexport const updateReservationData = (\r\n  newReservation: any,\r\n  type: 'hotel' | 'grooming' | 'daycare'\r\n) => {\r\n  // 전체 예약 데이터 업데이트\r\n  const allReservations = JSON.parse(localStorage.getItem('allReservations') || '[]');\r\n  const allIndex = allReservations.findIndex((r: any) => r.id === newReservation.id);\r\n  if (allIndex !== -1) {\r\n    // 기존 예약 업데이트\r\n    allReservations[allIndex] = newReservation;\r\n  } else {\r\n    // 새 예약 추가\r\n    allReservations.push(newReservation);\r\n  }\r\n  localStorage.setItem('allReservations', JSON.stringify(allReservations));\r\n\r\n  // 서비스별 예약 데이터 업데이트\r\n  let serviceKey: string;\r\n  switch (type) {\r\n    case 'hotel':\r\n      serviceKey = 'hotelReservations';\r\n      break;\r\n    case 'grooming':\r\n      serviceKey = 'groomingReservations';\r\n      break;\r\n    case 'daycare':\r\n      serviceKey = 'daycareReservations';\r\n      break;\r\n    default:\r\n      serviceKey = 'groomingReservations';\r\n  }\r\n  const serviceReservations = JSON.parse(localStorage.getItem(serviceKey) || '[]');\r\n  const serviceIndex = serviceReservations.findIndex((r: any) => r.id === newReservation.id);\r\n  if (serviceIndex !== -1) {\r\n    // 기존 예약 업데이트\r\n    serviceReservations[serviceIndex] = newReservation;\r\n  } else {\r\n    // 새 예약 추가\r\n    serviceReservations.push(newReservation);\r\n  }\r\n  localStorage.setItem(serviceKey, JSON.stringify(serviceReservations));\r\n\r\n  // 다른 컴포넌트에게 데이터 변경을 알림\r\n  window.dispatchEvent(new CustomEvent('reservationUpdated'));\r\n  \r\n  // 콘솔 로그로 디버깅 정보 출력\r\n  console.log(`✅ 예약 업데이트 완료: ${type} - ${newReservation.petName} (${newReservation.id})`);\r\n};\r\n\r\n// 선택된 예약을 localStorage에서 제거하는 함수\r\n// 주어진 ID 배열에 해당하는 예약을 전체 예약과 각 서비스별 예약 목록에서 삭제하고\r\n// reservationUpdated 이벤트를 발생시켜 달력 데이터를 갱신합니다.\r\nexport const removeReservationData = (ids: string[]) => {\r\n  if (!ids?.length) return;\r\n  // 전체 예약 배열에서 제거\r\n  const allReservations = JSON.parse(localStorage.getItem('allReservations') || '[]');\r\n  const filteredAll = allReservations.filter((r: any) => !ids.includes(r.id));\r\n  localStorage.setItem('allReservations', JSON.stringify(filteredAll));\r\n\r\n  // 서비스별 배열에서 제거\r\n  const keys = ['hotelReservations', 'groomingReservations', 'daycareReservations'];\r\n  keys.forEach((key) => {\r\n    const list = JSON.parse(localStorage.getItem(key) || '[]');\r\n    const filtered = list.filter((r: any) => !ids.includes(r.id));\r\n    localStorage.setItem(key, JSON.stringify(filtered));\r\n  });\r\n\r\n  // 변경 알림\r\n  window.dispatchEvent(new CustomEvent('reservationUpdated'));\r\n};\r\n\r\n// 예약 통계를 반환하는 유틸리티 함수\r\nexport const getReservationStats = () => {\r\n  const allReservations = JSON.parse(localStorage.getItem('allReservations') || '[]');\r\n  const today = new Date().toISOString().split('T')[0];\r\n  return {\r\n    total: allReservations.length,\r\n    today: allReservations.filter((r: any) => (r.date || r.checkIn) === today).length,\r\n    hotel: allReservations.filter((r: any) => r.service === 'hotel').length,\r\n    grooming: allReservations.filter((r: any) => r.service === 'grooming').length,\r\n    daycare: allReservations.filter((r: any) => r.service === 'daycare').length,\r\n    pending: allReservations.filter((r: any) => r.status === 'pending').length,\r\n    confirmed: allReservations.filter((r: any) => r.status === 'confirmed').length,\r\n    completed: allReservations.filter((r: any) => r.status === 'completed').length\r\n  };\r\n};"],"names":["GroomingCalendar","currentDate","setCurrentDate","useState","groomingData","setGroomingData","selectedDate","setSelectedDate","showAddForm","setShowAddForm","newReservation","setNewReservation","useEffect","loadGroomingData","handleReservationUpdate","allRaw","groomingRaw","reservations","fromAll","r","e","fromGrooming","generateMockGroomingData","seenIds","deduped","res","groupedData","reservation","date","a","b","error","data","year","month","daysInMonth","timeSlots","petNames","ownerNames","styles","day","dateString","maxReservations","numReservations","dayReservations","usedTimes","i","time","getDaysInMonth","firstDay","startingDayOfWeek","days","getDateString","monthStr","dayStr","getReservationCount","getStatusColor","count","getStatusText","navigateMonth","direction","newDate","handleDateClick","getReservationStatusColor","status","handleNewChange","field","value","prev","addReservation","newRes","deleteReservation","id","newData","monthNames","dayNames","today","jsxs","jsx","index","reservationCount","isToday","isSelected","HotelCalendar","hotelData","setHotelData","loadHotelData","hotelRaw","fromHotel","generateMockHotelData","checkInDate","roomTypes","checkOutDate","RealtimeReservationSync","handleStorageChange","updateReservationData","type","allReservations","allIndex","serviceKey","serviceReservations","serviceIndex","removeReservationData","ids","filteredAll","key","filtered"],"mappings":"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"}