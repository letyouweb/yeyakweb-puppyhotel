import{r as p,j as e}from"./index-DeoPKrxh.js";function B(){const[l,v]=p.useState(new Date),[h,w]=p.useState({}),[r,y]=p.useState(null),[f,u]=p.useState(!1),[c,N]=p.useState({petName:"",ownerName:"",time:"",phone:"",style:""});p.useEffect(()=>{b();const t=()=>{b()};return window.addEventListener("reservationUpdated",t),()=>{window.removeEventListener("reservationUpdated",t)}},[l]);const b=()=>{try{const t=localStorage.getItem("allReservations"),s=localStorage.getItem("groomingReservations");let n=[];if(t)try{const o=JSON.parse(t).filter(x=>x&&x.service==="grooming");n=n.concat(o)}catch(a){console.warn("allReservations 파싱 실패:",a)}if(s)try{const a=JSON.parse(s);n=n.concat(a)}catch(a){console.warn("groomingReservations 파싱 실패:",a)}if(!n.length){C();return}const i=new Set,d=[];for(const a of n)!a||!a.id||i.has(a.id)||(i.add(a.id),d.push(a));const m={};d.forEach(a=>{const o=a.date;o&&(m[o]||(m[o]=[]),m[o].push({id:a.id,petName:a.petName,ownerName:a.ownerName||"고객",time:a.time,phone:a.phone,style:a.style||"기본미용",status:a.status}))}),Object.keys(m).forEach(a=>{m[a].sort((o,x)=>o.time.localeCompare(x.time))}),w(m)}catch(t){console.warn("미용 예약 데이터 로드 실패:",t),C()}},C=()=>{const t={},s=l.getFullYear(),n=l.getMonth(),i=new Date(s,n+1,0).getDate(),d=["09:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00"],m=["초코","바둑이","뽀삐","코코","몽이","루루","보리","콩이"],a=["김민수","이영희","박철수","정수진","최동훈","한지민","송민호","윤서연"],o=["전체미용","부분컷","목욕+컷","발톱정리","얼굴컷","위생미용"];for(let x=1;x<=i;x++){const S=new Date(s,n,x),K=S.toISOString().split("T")[0],E=S.getDay()===0||S.getDay()===6?6:4,O=Math.floor(Math.random()*E);if(O>0){const D=[],R=new Set;for(let $=0;$<O;$++){let k;do k=d[Math.floor(Math.random()*d.length)];while(R.has(k));R.add(k),D.push({id:`grooming-${K}-${$}`,petName:m[Math.floor(Math.random()*m.length)],ownerName:a[Math.floor(Math.random()*a.length)],time:k,phone:`010-${Math.floor(Math.random()*9e3)+1e3}-${Math.floor(Math.random()*9e3)+1e3}`,style:o[Math.floor(Math.random()*o.length)],status:["confirmed","pending","completed"][Math.floor(Math.random()*3)]})}D.sort(($,k)=>$.time.localeCompare(k.time)),t[K]=D}}w(t)},T=()=>{const t=l.getFullYear(),s=l.getMonth(),n=new Date(t,s,1),d=new Date(t,s+1,0).getDate(),m=n.getDay(),a=[];for(let o=0;o<m;o++)a.push(null);for(let o=1;o<=d;o++)a.push(o);return a},j=t=>{const s=l.getFullYear(),i=(l.getMonth()+1).toString().padStart(2,"0"),d=t.toString().padStart(2,"0");return`${s}-${i}-${d}`},J=t=>{const s=j(t);return h[s]?.length||0},U=t=>t===0?"bg-gray-100 text-gray-500":t<=2?"bg-green-100 text-green-700":t<=4?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",F=t=>t===0?"예약없음":t<=2?"여유":t<=4?"보통":"포화",M=t=>{const s=new Date(l);t==="prev"?s.setMonth(s.getMonth()-1):s.setMonth(s.getMonth()+1),v(s),y(null)},L=t=>{const s=j(t);y(r===s?null:s),u(!1),N({petName:"",ownerName:"",time:"",phone:"",style:""})},Y=t=>{switch(t){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=(t,s)=>{N(n=>({...n,[t]:s}))},I=()=>{if(!r)return;const t=JSON.parse(localStorage.getItem("groomingReservations")||"[]"),s={id:`grooming-${r}-${Date.now()}`,petName:c.petName||"반려동물",ownerName:c.ownerName||"고객",date:r,time:c.time||"미정",phone:c.phone||"",style:c.style||"기본미용",status:"confirmed",service:"grooming"};t.push(s),localStorage.setItem("groomingReservations",JSON.stringify(t)),N({petName:"",ownerName:"",time:"",phone:"",style:""}),u(!1),b(),window.dispatchEvent(new CustomEvent("reservationUpdated"))},A=t=>{const n=JSON.parse(localStorage.getItem("groomingReservations")||"[]").filter(i=>i.id!==t);localStorage.setItem("groomingReservations",JSON.stringify(n)),b(),window.dispatchEvent(new CustomEvent("reservationUpdated"))},G=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],H=["일","월","화","수","목","금","토"],W=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[e.jsx("i",{className:"ri-scissors-line mr-2 text-yellow-600"}),"미용 예약 달력"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>M("prev"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-line text-gray-600"})}),e.jsxs("h4",{className:"text-xl font-semibold text-gray-800 min-w-[120px] text-center",children:[l.getFullYear(),"년 ",G[l.getMonth()]]}),e.jsx("button",{onClick:()=>M("next"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-right-line text-gray-600"})})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-6 p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"예약없음"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"여유 (1-2건)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"보통 (3-4건)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"포화 (5건+)"})]})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:H.map((t,s)=>e.jsx("div",{className:`p-3 text-center font-semibold text-sm ${s===0?"text-red-600":s===6?"text-blue-600":"text-gray-700"}`,children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:T().map((t,s)=>{if(t===null)return e.jsx("div",{className:"p-3"},s);const n=j(t),i=J(t),d=n===W,m=r===n;return e.jsxs("div",{onClick:()=>L(t),className:`relative p-3 border border-gray-200 rounded-lg cursor-pointer transition-all hover:shadow-md ${d?"ring-2 ring-yellow-500":""} ${m?"bg-yellow-50 border-yellow-300":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-semibold mb-1 ${s%7===0?"text-red-600":s%7===6?"text-blue-600":"text-gray-900"}`,children:t}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${U(i)}`,children:F(i)}),i>0&&e.jsxs("div",{className:"text-xs text-gray-600",children:[i,"건 예약"]})]})]}),d&&e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"})})]},t)})}),r&&h[r]&&e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("h4",{className:"font-semibold text-yellow-900 mb-3",children:[new Date(r).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})," 미용 예약 현황"]}),e.jsx("div",{className:"space-y-3",children:h[r].map((t,s)=>e.jsx("div",{className:"bg-white rounded-lg p-3 border border-yellow-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:t.time}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Y(t.status)}`,children:t.status==="confirmed"?"확정":t.status==="pending"?"대기":t.status==="completed"?"완료":"취소"})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"반려동물:"})," ",t.petName]}),e.jsxs("span",{children:[e.jsx("strong",{children:"보호자:"})," ",t.ownerName]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"미용스타일:"})," ",t.style]}),e.jsxs("span",{children:[e.jsx("strong",{children:"연락처:"})," ",t.phone]})]})]})]}),e.jsx("button",{onClick:()=>A(t.id),className:"text-red-500 text-xs ml-2",children:"삭제"})]})},s))}),e.jsx("div",{className:"mt-4",children:f?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"반려동물 이름",value:c.petName,onChange:t=>g("petName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"보호자 이름",value:c.ownerName,onChange:t=>g("ownerName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"time",value:c.time,onChange:t=>g("time",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"연락처",value:c.phone,onChange:t=>g("phone",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"미용 스타일",value:c.style,onChange:t=>g("style",t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:I,className:"bg-yellow-500 text-white px-3 py-1 rounded",children:"추가"}),e.jsx("button",{onClick:()=>{u(!1),N({petName:"",ownerName:"",time:"",phone:"",style:""})},className:"border px-3 py-1 rounded",children:"취소"})]})]}):e.jsx("button",{onClick:()=>u(!0),className:"bg-yellow-500 text-white px-3 py-1 rounded",children:"예약 추가"})})]}),r&&!h[r]&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:new Date(r).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsx("p",{className:"text-gray-600 mb-4",children:"이 날은 미용 예약이 없습니다."}),e.jsx("div",{children:f?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"반려동물 이름",value:c.petName,onChange:t=>g("petName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"보호자 이름",value:c.ownerName,onChange:t=>g("ownerName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"time",value:c.time,onChange:t=>g("time",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"연락처",value:c.phone,onChange:t=>g("phone",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"미용 스타일",value:c.style,onChange:t=>g("style",t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:I,className:"bg-yellow-500 text-white px-3 py-1 rounded",children:"추가"}),e.jsx("button",{onClick:()=>{u(!1),N({petName:"",ownerName:"",time:"",phone:"",style:""})},className:"border px-3 py-1 rounded",children:"취소"})]})]}):e.jsx("button",{onClick:()=>u(!0),className:"bg-yellow-500 text-white px-3 py-1 rounded",children:"예약 추가"})})]})]})}function P(){const[l,v]=p.useState(new Date),[h,w]=p.useState({}),[r,y]=p.useState(null),[f,u]=p.useState(!1),[c,N]=p.useState({petName:"",ownerName:"",checkOut:"",roomType:"",phone:""});p.useEffect(()=>{b();const t=()=>{b()};return window.addEventListener("reservationUpdated",t),()=>{window.removeEventListener("reservationUpdated",t)}},[l]);const b=()=>{try{const t=localStorage.getItem("allReservations"),s=localStorage.getItem("hotelReservations");let n=[];if(t)try{const o=JSON.parse(t).filter(x=>x&&x.service==="hotel");n=n.concat(o)}catch(a){console.warn("allReservations 파싱 실패:",a)}if(s)try{const a=JSON.parse(s);n=n.concat(a)}catch(a){console.warn("hotelReservations 파싱 실패:",a)}if(!n.length){C();return}const i=new Set,d=[];for(const a of n)!a||!a.id||i.has(a.id)||(i.add(a.id),d.push(a));const m={};d.forEach(a=>{const o=a.checkIn||a.date;o&&(m[o]||(m[o]=[]),m[o].push({id:a.id,petName:a.petName,ownerName:a.ownerName||"고객",checkIn:o,checkOut:a.checkOut||"미정",roomType:a.roomType||"일반룸",phone:a.phone,status:a.status}))}),w(m)}catch(t){console.warn("호텔 예약 데이터 로드 실패:",t),C()}},C=()=>{const t={},s=l.getFullYear(),n=l.getMonth(),i=new Date(s,n+1,0).getDate(),d=["초코","바둑이","뽀삐","코코","몽이","루루","보리","콩이","마루","하늘"],m=["김민수","이영희","박철수","정수진","최동훈","한지민","송민호","윤서연","장미영","오준석"],a=["소형견룸","중형견룸","대형견룸","고양이룸","프리미엄룸"];for(let o=1;o<=i;o++){const x=new Date(s,n,o),S=x.toISOString().split("T")[0],z=x.getDay()===0||x.getDay()===6?8:5,E=Math.floor(Math.random()*z);if(E>0){const O=[];for(let D=0;D<E;D++){const R=new Date(x);R.setDate(R.getDate()+Math.floor(Math.random()*5)+1),O.push({id:`hotel-${S}-${D}`,petName:d[Math.floor(Math.random()*d.length)],ownerName:m[Math.floor(Math.random()*m.length)],checkIn:S,checkOut:R.toISOString().split("T")[0],roomType:a[Math.floor(Math.random()*a.length)],phone:`010-${Math.floor(Math.random()*9e3)+1e3}-${Math.floor(Math.random()*9e3)+1e3}`,status:["confirmed","pending","completed"][Math.floor(Math.random()*3)]})}t[S]=O}}w(t)},T=()=>{const t=l.getFullYear(),s=l.getMonth(),n=new Date(t,s,1),d=new Date(t,s+1,0).getDate(),m=n.getDay(),a=[];for(let o=0;o<m;o++)a.push(null);for(let o=1;o<=d;o++)a.push(o);return a},j=t=>{const s=l.getFullYear(),i=(l.getMonth()+1).toString().padStart(2,"0"),d=t.toString().padStart(2,"0");return`${s}-${i}-${d}`},J=t=>{const s=j(t);return h[s]?.length||0},U=t=>t===0?"bg-gray-100 text-gray-500":t<=3?"bg-green-100 text-green-700":t<=6?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700",F=t=>t===0?"예약없음":t<=3?"여유":t<=6?"보통":"만실",M=t=>{const s=new Date(l);t==="prev"?s.setMonth(s.getMonth()-1):s.setMonth(s.getMonth()+1),v(s),y(null),u(!1),N({petName:"",ownerName:"",checkOut:"",roomType:"",phone:""})},L=t=>{const s=j(t);y(r===s?null:s),u(!1),N({petName:"",ownerName:"",checkOut:"",roomType:"",phone:""})},Y=t=>{switch(t){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=(t,s)=>{N(n=>({...n,[t]:s}))},I=()=>{if(!r)return;const t=JSON.parse(localStorage.getItem("hotelReservations")||"[]"),s={id:`hotel-${r}-${Date.now()}`,petName:c.petName||"반려동물",ownerName:c.ownerName||"고객",checkIn:r,checkOut:c.checkOut||r,roomType:c.roomType||"일반룸",phone:c.phone||"",status:"confirmed"};t.push(s),localStorage.setItem("hotelReservations",JSON.stringify(t)),N({petName:"",ownerName:"",checkOut:"",roomType:"",phone:""}),u(!1),b(),window.dispatchEvent(new CustomEvent("reservationUpdated"))},A=t=>{const n=JSON.parse(localStorage.getItem("hotelReservations")||"[]").filter(i=>i.id!==t);localStorage.setItem("hotelReservations",JSON.stringify(n)),b(),window.dispatchEvent(new CustomEvent("reservationUpdated"))},G=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],H=["일","월","화","수","목","금","토"],W=new Date().toISOString().split("T")[0];return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[e.jsx("i",{className:"ri-hotel-line mr-2 text-blue-600"}),"호텔 예약 달력"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>M("prev"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-left-line text-gray-600"})}),e.jsxs("h4",{className:"text-xl font-semibold text-gray-800 min-w-[120px] text-center",children:[l.getFullYear(),"년 ",G[l.getMonth()]]}),e.jsx("button",{onClick:()=>M("next"),className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-arrow-right-line text-gray-600"})})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-6 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"예약없음"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"여유 (1-3건)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"보통 (4-6건)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"만실 (7건+)"})]})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:H.map((t,s)=>e.jsx("div",{className:`p-3 text-center font-semibold text-sm ${s===0?"text-red-600":s===6?"text-blue-600":"text-gray-700"}`,children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:T().map((t,s)=>{if(t===null)return e.jsx("div",{className:"p-3"},s);const n=j(t),i=J(t),d=n===W,m=r===n;return e.jsxs("div",{onClick:()=>L(t),className:`relative p-3 border border-gray-200 rounded-lg cursor-pointer transition-all hover:shadow-md ${d?"ring-2 ring-blue-500":""} ${m?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-semibold mb-1 ${s%7===0?"text-red-600":s%7===6?"text-blue-600":"text-gray-900"}`,children:t}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${U(i)}`,children:F(i)}),i>0&&e.jsxs("div",{className:"text-xs text-gray-600",children:[i,"건 예약"]})]})]}),d&&e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})]},t)})}),r&&h[r]&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-3",children:[new Date(r).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})," 호텔 예약 현황"]}),e.jsx("div",{className:"space-y-3",children:h[r].map((t,s)=>e.jsx("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:t.petName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Y(t.status)}`,children:t.status==="confirmed"?"확정":t.status==="pending"?"대기":t.status==="completed"?"완료":"취소"})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"보호자:"})," ",t.ownerName]}),e.jsxs("span",{children:[e.jsx("strong",{children:"룸타입:"})," ",t.roomType]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"체크인:"})," ",t.checkIn]}),e.jsxs("span",{children:[e.jsx("strong",{children:"체크아웃:"})," ",t.checkOut]})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("span",{children:[e.jsx("strong",{children:"연락처:"})," ",t.phone]})})]})]}),e.jsx("button",{onClick:()=>A(t.id),className:"text-red-500 text-xs ml-2",children:"삭제"})]})},s))}),e.jsx("div",{className:"mt-4",children:f?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"반려동물 이름",value:c.petName,onChange:t=>g("petName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"보호자 이름",value:c.ownerName,onChange:t=>g("ownerName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"date",placeholder:"체크아웃",value:c.checkOut,onChange:t=>g("checkOut",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"룸타입",value:c.roomType,onChange:t=>g("roomType",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"연락처",value:c.phone,onChange:t=>g("phone",t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:I,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"추가"}),e.jsx("button",{onClick:()=>{u(!1),N({petName:"",ownerName:"",checkOut:"",roomType:"",phone:""})},className:"border px-3 py-1 rounded",children:"취소"})]})]}):e.jsx("button",{onClick:()=>u(!0),className:"bg-blue-500 text-white px-3 py-1 rounded",children:"예약 추가"})})]}),r&&!h[r]&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:new Date(r).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}),e.jsx("p",{className:"text-gray-600 mb-4",children:"이 날은 호텔 예약이 없습니다."}),e.jsx("div",{children:f?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",placeholder:"반려동물 이름",value:c.petName,onChange:t=>g("petName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"보호자 이름",value:c.ownerName,onChange:t=>g("ownerName",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"date",placeholder:"체크아웃",value:c.checkOut,onChange:t=>g("checkOut",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"룸타입",value:c.roomType,onChange:t=>g("roomType",t.target.value),className:"w-full border p-2 rounded"}),e.jsx("input",{type:"text",placeholder:"연락처",value:c.phone,onChange:t=>g("phone",t.target.value),className:"w-full border p-2 rounded"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:I,className:"bg-blue-500 text-white px-3 py-1 rounded",children:"추가"}),e.jsx("button",{onClick:()=>{u(!1),N({petName:"",ownerName:"",checkOut:"",roomType:"",phone:""})},className:"border px-3 py-1 rounded",children:"취소"})]})]}):e.jsx("button",{onClick:()=>u(!0),className:"bg-blue-500 text-white px-3 py-1 rounded",children:"예약 추가"})})]})]})}function Q(){return p.useEffect(()=>{(()=>{localStorage.getItem("allReservations")||localStorage.setItem("allReservations",JSON.stringify([])),localStorage.getItem("hotelReservations")||localStorage.setItem("hotelReservations",JSON.stringify([])),localStorage.getItem("groomingReservations")||localStorage.setItem("groomingReservations",JSON.stringify([])),localStorage.getItem("daycareReservations")||localStorage.setItem("daycareReservations",JSON.stringify([]))})();const v=h=>{(h.key==="allReservations"||h.key==="hotelReservations"||h.key==="groomingReservations"||h.key==="daycareReservations")&&window.dispatchEvent(new CustomEvent("reservationUpdated"))};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}},[]),null}const V=(l,v)=>{const h=JSON.parse(localStorage.getItem("allReservations")||"[]"),w=h.findIndex(u=>u.id===l.id);w!==-1?h[w]=l:h.push(l),localStorage.setItem("allReservations",JSON.stringify(h));let r;switch(v){case"hotel":r="hotelReservations";break;case"grooming":r="groomingReservations";break;case"daycare":r="daycareReservations";break;default:r="groomingReservations"}const y=JSON.parse(localStorage.getItem(r)||"[]"),f=y.findIndex(u=>u.id===l.id);f!==-1?y[f]=l:y.push(l),localStorage.setItem(r,JSON.stringify(y)),window.dispatchEvent(new CustomEvent("reservationUpdated")),console.log(`✅ 예약 업데이트 완료: ${v} - ${l.petName} (${l.id})`)},X=l=>{if(!l?.length)return;const h=JSON.parse(localStorage.getItem("allReservations")||"[]").filter(r=>!l.includes(r.id));localStorage.setItem("allReservations",JSON.stringify(h)),["hotelReservations","groomingReservations","daycareReservations"].forEach(r=>{const f=JSON.parse(localStorage.getItem(r)||"[]").filter(u=>!l.includes(u.id));localStorage.setItem(r,JSON.stringify(f))}),window.dispatchEvent(new CustomEvent("reservationUpdated"))};export{B as G,P as H,Q as R,X as r,V as u};
//# sourceMappingURL=RealtimeReservationSync-CgNysdpI.js.map
